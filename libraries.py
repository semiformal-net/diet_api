#
# Helper functions for spartan supper optimization
#

import sqlite3
import pandas
import pickle
import pandas
import numpy
from deap import base, creator, tools, algorithms
from cvxopt import matrix, solvers # an alternative linear programming library
solvers.options['show_progress'] = False
import random
from time import time

food_sets_const={
    "natural": [5009, 5140, 5147, 5166, 5308, 5315, 5622, 5642, 9003, 9004, 9021, 9037, 9038, 9039, 9040, 9042, 9050, 9057, 9060, 9063, 9070, 9077, 9078, 9083, 9084, 9087, 9089, 9107, 9111, 9112, 9113, 9114, 9116, 9117, 9118, 9129, 9131, 9132, 9139, 9140, 9144, 9146, 9148, 9149, 9150, 9156, 9159, 9164, 9167, 9176, 9181, 9183, 9184, 9190, 9191, 9193, 9200, 9201, 9202, 9203, 9205, 9216, 9218, 9226, 9231, 9236, 9252, 9263, 9265, 9266, 9277, 9279, 9286, 9287, 9302, 9307, 9316, 9322, 9326, 9340, 9412, 9413, 9414, 9415, 9422, 9429, 9430, 9433, 9445, 9449, 9500, 9501, 9502, 9503, 9504, 10007, 10021, 11001, 11007, 11011, 11026, 11029, 11031, 11043, 11046, 11048, 11050, 11052, 11080, 11086, 11088, 11090, 11096, 11098, 11109, 11112, 11114, 11116, 11119, 11124, 11135, 11143, 11147, 11156, 11161, 11165, 11167, 11191, 11197, 11201, 11203, 11205, 11207, 11209, 11211, 11213, 11215, 11216, 11218, 11220, 11226, 11233, 11238, 11239, 11240, 11246, 11248, 11250, 11251, 11252, 11253, 11257, 11260, 11265, 11266, 11270, 11278, 11282, 11291, 11292, 11293, 11294, 11297, 11298, 11300, 11304, 11333, 11344, 11352, 11353, 11354, 11355, 11422, 11427, 11429, 11430, 11435, 11450, 11452, 11457, 11467, 11475, 11477, 11482, 11485, 11489, 11492, 11495, 11507, 11518, 11527, 11529, 11564, 11568, 11588, 11591, 11593, 11595, 11597, 11599, 11601, 11622, 11637, 11641, 11643, 11653, 11670, 11676, 11677, 11695, 11696, 11722, 11739, 11741, 11749, 11750, 11819, 11821, 11900, 11950, 11951, 11952, 11953, 11954, 11957, 11959, 11960, 11965, 11972, 11973, 11974, 11976, 11977, 11979, 11981, 11987, 11990, 11993, 11995, 12001, 12004, 12024, 12037, 12039, 12058, 12061, 12063, 12087, 12093, 12097, 12098, 12104, 12120, 12127, 12131, 12142, 12151, 12155, 12158, 12163, 12202, 12205, 12220, 13020, 14411, 14412, 14429, 15009, 15012, 15016, 15029, 15034, 15037, 15040, 15047, 15052, 15063, 15067, 15082, 15086, 15100, 15111, 15116, 15118, 15137, 15140, 15148, 15165, 15169, 15178, 15188, 15191, 15192, 15196, 15197, 15200, 15202, 15203, 15204, 15205, 15209, 15210, 15211, 15212, 15216, 15217, 15218, 15220, 15221, 15222, 15226, 15227, 15230, 15231, 15233, 15235, 15237, 15239, 15241, 15244, 15246, 15247, 15262, 15267, 15269, 15271, 15273, 16390, 17000, 17224, 19296, 19911, 19912, 20001, 20005, 20008, 20031, 20033, 20035, 20036, 20038, 20040, 20044, 20050, 20052, 20054, 20062, 20067, 20069, 20071, 20072, 20073, 20074, 20075, 20076, 20087, 20088, 20138, 20140, 20142, 20314, 20444, 20450, 20452, 20466, 43282, 43283, 43392],
    "pescatarian": [1001, 1002, 1003, 1004, 1005, 1006, 1007, 1008, 1009, 1010, 1011, 1012, 1013, 1014, 1015, 1016, 1017, 1018, 1019, 1020, 1021, 1022, 1023, 1024, 1025, 1026, 1027, 1028, 1029, 1030, 1031, 1032, 1033, 1034, 1035, 1036, 1037, 1038, 1039, 1040, 1041, 1042, 1043, 1044, 1049, 1052, 1053, 1054, 1055, 1056, 1057, 1058, 1059, 1060, 1061, 1067, 1068, 1073, 1074, 1076, 1077, 1078, 1079, 1080, 1081, 1082, 1083, 1084, 1085, 1086, 1087, 1088, 1089, 1090, 1091, 1092, 1093, 1095, 1096, 1097, 1102, 1103, 1104, 1105, 1106, 1107, 1108, 1109, 1110, 1111, 1116, 1117, 1118, 1119, 1120, 1121, 1122, 1128, 1129, 1130, 1131, 1132, 1145, 1146, 1151, 1152, 1153, 1154, 1155, 1156, 1157, 1159, 1161, 1164, 1165, 1166, 1167, 1168, 1169, 1174, 1175, 1178, 1179, 1180, 1184, 1186, 1187, 1199, 1202, 1203, 1204, 1205, 1208, 1209, 1211, 1212, 1214, 1216, 1217, 1218, 1219, 1220, 1221, 1222, 1225, 1227, 1228, 1229, 1230, 1231, 1235, 1236, 1237, 1238, 1239, 1240, 1241, 1242, 1243, 1244, 1250, 1251, 1252, 1253, 1254, 1256, 1259, 1260, 1263, 1264, 1265, 1266, 1267, 1270, 1271, 1275, 1276, 1278, 1280, 1281, 4011, 4013, 4014, 4015, 4016, 4017, 4018, 4020, 4021, 4022, 4023, 4025, 4026, 4027, 4028, 4029, 4030, 4031, 4034, 4037, 4038, 4042, 4044, 4047, 4053, 4055, 4058, 4060, 4073, 4114, 4120, 4128, 4133, 4135, 4141, 4142, 4143, 4144, 4145, 4146, 4367, 4501, 4502, 4506, 4510, 4511, 4513, 4514, 4515, 4516, 4517, 4518, 4528, 4529, 4530, 4531, 4532, 4534, 4536, 4539, 4541, 4543, 4545, 4546, 4551, 4554, 4556, 4559, 4560, 4570, 4572, 4573, 4581, 4582, 4583, 4584, 4585, 4586, 4587, 4588, 4589, 4590, 4591, 4592, 4593, 4594, 4595, 4600, 4601, 4602, 4610, 4611, 4612, 4613, 4614, 4615, 4617, 4618, 4620, 4624, 4626, 4627, 4628, 4629, 4630, 4631, 4633, 4634, 4636, 4638, 4639, 4640, 4641, 4642, 4643, 4644, 4645, 4646, 4648, 4649, 4650, 4651, 4652, 4653, 4654, 4655, 4656, 4657, 4658, 4659, 4660, 4661, 4662, 4663, 4664, 4665, 4666, 4667, 4668, 4673, 4674, 4675, 4676, 4677, 4678, 4679, 4683, 4684, 4685, 4686, 4687, 4688, 4689, 4690, 4691, 4692, 4693, 4694, 4695, 4696, 4697, 4698, 4699, 4700, 4701, 4702, 4703, 4704, 4705, 4706, 4707, 4708, 6001, 6002, 6003, 6010, 6011, 6014, 6027, 6028, 6030, 6034, 6035, 6038, 6039, 6040, 6042, 6043, 6045, 6046, 6048, 6049, 6052, 6053, 6056, 6063, 6067, 6068, 6112, 6121, 6142, 6150, 6151, 6152, 6158, 6159, 6164, 6165, 6166, 6167, 6168, 6169, 6174, 6175, 6176, 6177, 6179, 6180, 6182, 6189, 6192, 6201, 6208, 6209, 6210, 6211, 6213, 6214, 6215, 6217, 6218, 6220, 6221, 6222, 6224, 6225, 6229, 6230, 6231, 6232, 6233, 6234, 6235, 6236, 6237, 6239, 6240, 6243, 6246, 6248, 6249, 6250, 6253, 6256, 6264, 6285, 6307, 6312, 6316, 6318, 6322, 6333, 6334, 6338, 6339, 6340, 6341, 6342, 6351, 6353, 6354, 6355, 6358, 6359, 6361, 6364, 6366, 6367, 6373, 6374, 6375, 6377, 6379, 6401, 6402, 6408, 6410, 6411, 6428, 6429, 6430, 6431, 6440, 6442, 6443, 6446, 6447, 6448, 6449, 6453, 6456, 6463, 6468, 6487, 6503, 6504, 6509, 6529, 6541, 6544, 6545, 6546, 6558, 6559, 6580, 6584, 6585, 6588, 6589, 6592, 6594, 6597, 6598, 6599, 6600, 6601, 6602, 6603, 6604, 6605, 6615, 6617, 6618, 6619, 6620, 6621, 6622, 6623, 6624, 6625, 6930, 6931, 6932, 6956, 6961, 6962, 6963, 6964, 6965, 6967, 6968, 6971, 6976, 6987, 6988, 6990, 6991, 6992, 6994, 6995, 8510, 8546, 9002, 9003, 9004, 9005, 9006, 9007, 9008, 9014, 9015, 9016, 9017, 9018, 9021, 9022, 9023, 9024, 9025, 9026, 9027, 9028, 9029, 9035, 9036, 9037, 9038, 9039, 9040, 9042, 9043, 9046, 9048, 9050, 9052, 9053, 9054, 9055, 9056, 9057, 9060, 9063, 9065, 9066, 9067, 9068, 9070, 9071, 9072, 9073, 9074, 9075, 9076, 9077, 9078, 9081, 9082, 9083, 9084, 9087, 9089, 9090, 9091, 9092, 9093, 9096, 9097, 9098, 9099, 9100, 9101, 9102, 9103, 9104, 9105, 9106, 9107, 9109, 9111, 9112, 9113, 9114, 9116, 9117, 9118, 9119, 9120, 9121, 9123, 9124, 9125, 9126, 9128, 9129, 9130, 9131, 9132, 9133, 9134, 9135, 9139, 9140, 9143, 9144, 9146, 9148, 9149, 9150, 9152, 9153, 9154, 9156, 9159, 9160, 9161, 9164, 9167, 9176, 9181, 9183, 9184, 9185, 9190, 9191, 9193, 9194, 9195, 9200, 9201, 9202, 9203, 9205, 9206, 9207, 9209, 9210, 9211, 9213, 9214, 9215, 9216, 9217, 9218, 9219, 9220, 9221, 9223, 9226, 9228, 9229, 9231, 9232, 9233, 9236, 9237, 9238, 9239, 9240, 9241, 9242, 9243, 9250, 9251, 9252, 9253, 9254, 9255, 9256, 9257, 9258, 9262, 9263, 9265, 9266, 9267, 9268, 9269, 9270, 9271, 9272, 9273, 9274, 9275, 9277, 9278, 9279, 9281, 9282, 9283, 9284, 9285, 9286, 9287, 9288, 9291, 9292, 9293, 9294, 9297, 9298, 9299, 9302, 9304, 9306, 9307, 9309, 9310, 9316, 9317, 9318, 9319, 9320, 9322, 9325, 9326, 9328, 9340, 9351, 9352, 9353, 9354, 9357, 9362, 9367, 9370, 9374, 9379, 9383, 9400, 9401, 9402, 9403, 9404, 9407, 9408, 9409, 9410, 9411, 9412, 9413, 9414, 9415, 9420, 9421, 9422, 9423, 9429, 9430, 9433, 9435, 9436, 9437, 9442, 9443, 9444, 9445, 9446, 9447, 9449, 9450, 9452, 9500, 9501, 9502, 9503, 9504, 9506, 9507, 9508, 9510, 9511, 9512, 9513, 9514, 9515, 9516, 9517, 9518, 11001, 11007, 11008, 11009, 11010, 11011, 11012, 11013, 11015, 11018, 11019, 11026, 11027, 11028, 11029, 11030, 11031, 11032, 11033, 11037, 11038, 11039, 11040, 11043, 11044, 11045, 11046, 11047, 11048, 11049, 11050, 11052, 11053, 11054, 11056, 11058, 11060, 11061, 11062, 11063, 11080, 11081, 11082, 11084, 11086, 11087, 11088, 11089, 11090, 11091, 11092, 11093, 11094, 11095, 11096, 11097, 11098, 11099, 11100, 11101, 11109, 11110, 11112, 11113, 11114, 11115, 11116, 11117, 11119, 11120, 11124, 11125, 11126, 11128, 11130, 11131, 11134, 11135, 11136, 11137, 11138, 11143, 11144, 11147, 11148, 11156, 11161, 11162, 11163, 11164, 11165, 11167, 11168, 11170, 11172, 11174, 11176, 11177, 11178, 11179, 11180, 11181, 11182, 11184, 11191, 11192, 11195, 11196, 11197, 11198, 11201, 11202, 11203, 11204, 11205, 11206, 11207, 11208, 11209, 11210, 11211, 11212, 11213, 11215, 11216, 11218, 11219, 11220, 11221, 11226, 11233, 11234, 11235, 11236, 11238, 11239, 11240, 11243, 11246, 11247, 11248, 11249, 11250, 11251, 11252, 11253, 11257, 11260, 11261, 11263, 11264, 11265, 11266, 11267, 11269, 11270, 11271, 11272, 11273, 11278, 11279, 11280, 11281, 11282, 11283, 11285, 11286, 11287, 11288, 11289, 11290, 11291, 11292, 11293, 11294, 11295, 11296, 11297, 11298, 11299, 11300, 11301, 11302, 11303, 11304, 11305, 11306, 11308, 11310, 11311, 11312, 11313, 11316, 11317, 11318, 11322, 11323, 11324, 11326, 11327, 11329, 11333, 11334, 11335, 11337, 11338, 11339, 11344, 11345, 11352, 11353, 11354, 11355, 11356, 11357, 11358, 11359, 11360, 11361, 11362, 11363, 11364, 11365, 11366, 11367, 11368, 11369, 11370, 11371, 11372, 11373, 11374, 11376, 11390, 11391, 11392, 11393, 11394, 11395, 11396, 11397, 11398, 11399, 11400, 11401, 11402, 11403, 11406, 11407, 11408, 11409, 11411, 11412, 11413, 11414, 11422, 11423, 11424, 11427, 11428, 11429, 11430, 11431, 11435, 11436, 11439, 11450, 11451, 11452, 11453, 11454, 11457, 11458, 11459, 11461, 11463, 11464, 11467, 11468, 11471, 11473, 11474, 11475, 11476, 11477, 11478, 11479, 11480, 11481, 11482, 11483, 11484, 11485, 11486, 11487, 11488, 11489, 11490, 11491, 11492, 11493, 11495, 11496, 11497, 11499, 11501, 11502, 11507, 11508, 11510, 11512, 11514, 11516, 11517, 11518, 11519, 11527, 11529, 11530, 11531, 11533, 11537, 11540, 11546, 11547, 11549, 11551, 11553, 11555, 11557, 11559, 11564, 11565, 11566, 11567, 11568, 11569, 11570, 11574, 11575, 11576, 11577, 11578, 11585, 11588, 11590, 11591, 11593, 11594, 11595, 11596, 11597, 11599, 11601, 11602, 11605, 11609, 11622, 11623, 11626, 11632, 11637, 11641, 11642, 11643, 11644, 11645, 11647, 11649, 11653, 11654, 11655, 11656, 11657, 11659, 11660, 11670, 11671, 11672, 11674, 11675, 11676, 11677, 11693, 11695, 11696, 11702, 11703, 11705, 11707, 11709, 11710, 11711, 11712, 11713, 11714, 11715, 11716, 11717, 11718, 11719, 11720, 11721, 11722, 11723, 11724, 11725, 11726, 11727, 11728, 11729, 11730, 11731, 11732, 11733, 11734, 11735, 11736, 11738, 11739, 11741, 11742, 11743, 11744, 11745, 11746, 11747, 11749, 11750, 11751, 11752, 11753, 11754, 11755, 11756, 11757, 11758, 11759, 11760, 11761, 11762, 11764, 11765, 11768, 11769, 11770, 11771, 11772, 11773, 11774, 11775, 11777, 11778, 11779, 11780, 11781, 11782, 11783, 11784, 11785, 11790, 11791, 11792, 11795, 11796, 11797, 11798, 11799, 11800, 11801, 11803, 11804, 11805, 11806, 11807, 11808, 11809, 11810, 11811, 11812, 11813, 11814, 11815, 11816, 11817, 11818, 11819, 11820, 11821, 11822, 11823, 11824, 11825, 11826, 11828, 11829, 11830, 11831, 11832, 11833, 11834, 11835, 11836, 11837, 11840, 11841, 11842, 11843, 11844, 11845, 11846, 11850, 11851, 11853, 11854, 11855, 11856, 11857, 11858, 11859, 11860, 11861, 11862, 11863, 11864, 11865, 11866, 11867, 11868, 11869, 11870, 11871, 11872, 11873, 11875, 11876, 11877, 11878, 11884, 11885, 11886, 11887, 11888, 11889, 11890, 11891, 11892, 11893, 11895, 11896, 11897, 11900, 11901, 11902, 11903, 11904, 11905, 11906, 11907, 11908, 11909, 11910, 11911, 11912, 11913, 11914, 11915, 11916, 11917, 11918, 11919, 11921, 11923, 11924, 11926, 11929, 11932, 11933, 11934, 11935, 11937, 11939, 11940, 11941, 11943, 11944, 11945, 11946, 11947, 11948, 11949, 11950, 11951, 11952, 11953, 11954, 11955, 11956, 11957, 11958, 11959, 11960, 11961, 11962, 11965, 11967, 11968, 11969, 11970, 11972, 11973, 11974, 11975, 11976, 11977, 11979, 11980, 11981, 11983, 11987, 11989, 11990, 11992, 11993, 11995, 11996, 11998, 12001, 12003, 12004, 12011, 12016, 12022, 12024, 12029, 12034, 12037, 12038, 12039, 12040, 12058, 12061, 12062, 12063, 12065, 12071, 12085, 12086, 12087, 12088, 12093, 12095, 12096, 12097, 12098, 12101, 12104, 12108, 12109, 12110, 12114, 12115, 12116, 12117, 12118, 12119, 12120, 12121, 12122, 12127, 12129, 12131, 12132, 12140, 12142, 12143, 12144, 12151, 12152, 12155, 12156, 12158, 12160, 12163, 12166, 12167, 12169, 12171, 12176, 12177, 12179, 12195, 12198, 12200, 12201, 12202, 12203, 12204, 12205, 12206, 12220, 12516, 12529, 12536, 12537, 12538, 12539, 12540, 12563, 12565, 12567, 12585, 12586, 12588, 12632, 12643, 12644, 12652, 12663, 12665, 12695, 12698, 14003, 14004, 14005, 14006, 14007, 14009, 14010, 14013, 14015, 14017, 14019, 14027, 14029, 14034, 14037, 14049, 14050, 14051, 14052, 14057, 14084, 14086, 14087, 14088, 14096, 14097, 14098, 14099, 14100, 14101, 14102, 14103, 14105, 14106, 14107, 14108, 14109, 14113, 14116, 14117, 14120, 14121, 14124, 14125, 14126, 14130, 14132, 14134, 14135, 14136, 14137, 14138, 14140, 14142, 14143, 14144, 14145, 14146, 14147, 14148, 14149, 14150, 14151, 14152, 14153, 14155, 14157, 14158, 14159, 14160, 14166, 14181, 14182, 14187, 14238, 14240, 14241, 14242, 14243, 14262, 14263, 14264, 14267, 14268, 14269, 14277, 14282, 14292, 14293, 14303, 14305, 14323, 14327, 14334, 14341, 14347, 14352, 14355, 14376, 14381, 14400, 14405, 14406, 14411, 14412, 14414, 14415, 14416, 14424, 14425, 14426, 14427, 14428, 14429, 14430, 14431, 14436, 14475, 14476, 14532, 14533, 14534, 14537, 14542, 14543, 14544, 14545, 14550, 14551, 14552, 14553, 14601, 14602, 14604, 14607, 14608, 14609, 14610, 14611, 14612, 14613, 14614, 14615, 14616, 14617, 14618, 14619, 14620, 14621, 14622, 14623, 14632, 14633, 14634, 14637, 14638, 14639, 14645, 14646, 14647, 14648, 14649, 14651, 15002, 15009, 15011, 15012, 15014, 15016, 15017, 15018, 15021, 15027, 15029, 15034, 15035, 15037, 15040, 15041, 15042, 15047, 15048, 15052, 15063, 15067, 15075, 15077, 15080, 15082, 15084, 15086, 15087, 15088, 15089, 15100, 15111, 15116, 15118, 15119, 15121, 15124, 15126, 15128, 15137, 15138, 15140, 15141, 15142, 15148, 15165, 15168, 15169, 15170, 15178, 15179, 15180, 15181, 15182, 15183, 15184, 15185, 15186, 15188, 15191, 15192, 15196, 15197, 15200, 15202, 15203, 15204, 15205, 15209, 15210, 15211, 15212, 15216, 15217, 15218, 15220, 15221, 15222, 15226, 15227, 15230, 15231, 15233, 15235, 15237, 15239, 15241, 15244, 15246, 15247, 15250, 15253, 15260, 15262, 15264, 15265, 15267, 15269, 15271, 15273, 16002, 16003, 16004, 16005, 16006, 16007, 16008, 16009, 16010, 16011, 16015, 16017, 16018, 16020, 16021, 16023, 16025, 16026, 16028, 16029, 16031, 16033, 16034, 16036, 16038, 16039, 16041, 16043, 16044, 16046, 16048, 16050, 16051, 16053, 16054, 16055, 16057, 16058, 16061, 16063, 16064, 16065, 16068, 16070, 16072, 16073, 16075, 16077, 16079, 16081, 16084, 16086, 16088, 16089, 16090, 16092, 16094, 16096, 16097, 16098, 16102, 16104, 16106, 16107, 16109, 16110, 16111, 16112, 16113, 16114, 16120, 16121, 16122, 16123, 16124, 16125, 16126, 16127, 16128, 16129, 16130, 16132, 16134, 16136, 16137, 16138, 16139, 16145, 16146, 16147, 16149, 16150, 16155, 16156, 16157, 16158, 16159, 16160, 16161, 16162, 16163, 16164, 16165, 16166, 16168, 16171, 16172, 16173, 16174, 16202, 16203, 16204, 16210, 16211, 16212, 16213, 16214, 16215, 16216, 16219, 16222, 16223, 16225, 16227, 16228, 16229, 16230, 16231, 16235, 16236, 16237, 16238, 16239, 16240, 16241, 16242, 16243, 16244, 16245, 16246, 16247, 16248, 16249, 16250, 16251, 16252, 16253, 16254, 16255, 16256, 16257, 16258, 16259, 16260, 16261, 16262, 16271, 16272, 16273, 16274, 16275, 16276, 16277, 16278, 16279, 16281, 16302, 16315, 16316, 16317, 16320, 16323, 16325, 16326, 16328, 16331, 16333, 16335, 16336, 16337, 16338, 16341, 16343, 16345, 16346, 16347, 16348, 16350, 16353, 16357, 16358, 16359, 16360, 16361, 16363, 16368, 16370, 16372, 16375, 16377, 16379, 16381, 16384, 16386, 16389, 16390, 16392, 16394, 16396, 16397, 16398, 16399, 16402, 16403, 16409, 16410, 16420, 16421, 16422, 16423, 16424, 16425, 16428, 16429, 16432, 16434, 16436, 16500, 16502, 16504, 16505, 16506, 16507, 16508, 16509, 16510, 16511, 16512, 16513, 16514, 16515, 16516, 16517, 16518, 16519, 16521, 16522, 16523, 16524, 16525, 16526, 16527, 16528, 16529, 16531, 16532, 16533, 16534, 16535, 16536, 16538, 16542, 16546, 16548, 16549, 16551, 16552, 16554, 16555, 16556, 16557, 16558, 16560, 16561, 16565, 16570, 16579, 16581, 16584, 16585, 16586, 16587, 16588, 16589, 16590, 16591, 16592, 16593, 16594, 16595, 16596, 16597, 16598, 16600, 16601, 16602, 16603, 16605, 16606, 16607, 16608, 16609, 16610, 16611, 19003, 19004, 19005, 19007, 19008, 19009, 19010, 19013, 19014, 19015, 19016, 19017, 19020, 19021, 19022, 19024, 19026, 19027, 19034, 19035, 19036, 19038, 19039, 19040, 19042, 19043, 19045, 19046, 19047, 19048, 19049, 19050, 19051, 19052, 19053, 19056, 19057, 19058, 19063, 19077, 19078, 19088, 19089, 19090, 19094, 19095, 19096, 19097, 19113, 19114, 19124, 19125, 19128, 19129, 19137, 19139, 19146, 19163, 19168, 19182, 19183, 19186, 19193, 19201, 19217, 19218, 19225, 19226, 19227, 19228, 19230, 19233, 19234, 19235, 19260, 19263, 19265, 19269, 19270, 19271, 19272, 19273, 19274, 19280, 19281, 19283, 19293, 19294, 19296, 19297, 19300, 19303, 19304, 19312, 19314, 19334, 19335, 19337, 19340, 19345, 19348, 19349, 19350, 19351, 19352, 19353, 19355, 19360, 19361, 19362, 19364, 19365, 19366, 19367, 19375, 19387, 19393, 19400, 19401, 19403, 19404, 19405, 19406, 19409, 19410, 19411, 19412, 19413, 19414, 19415, 19416, 19418, 19419, 19420, 19421, 19422, 19423, 19424, 19433, 19434, 19435, 19436, 19437, 19438, 19439, 19440, 19441, 19444, 19445, 19524, 19719, 19720, 19800, 19802, 19804, 19806, 19807, 19809, 19810, 19811, 19816, 19817, 19818, 19819, 19820, 19823, 19833, 19856, 19857, 19867, 19868, 19871, 19872, 19873, 19874, 19875, 19876, 19877, 19878, 19879, 19880, 19881, 19882, 19883, 19884, 19886, 19887, 19890, 19891, 19892, 19893, 19894, 19895, 19898, 19899, 19902, 19903, 19904, 19906, 19907, 19908, 19909, 19911, 19912, 19916, 20001, 20002, 20003, 20004, 20005, 20006, 20008, 20010, 20013, 20014, 20015, 20020, 20022, 20023, 20024, 20025, 20027, 20029, 20030, 20031, 20032, 20033, 20034, 20035, 20036, 20037, 20038, 20040, 20041, 20044, 20045, 20047, 20049, 20050, 20051, 20052, 20053, 20054, 20055, 20058, 20060, 20062, 20066, 20067, 20069, 20071, 20072, 20073, 20074, 20075, 20076, 20077, 20078, 20087, 20088, 20089, 20092, 20093, 20094, 20095, 20096, 20097, 20098, 20099, 20100, 20101, 20102, 20105, 20106, 20108, 20109, 20110, 20111, 20112, 20113, 20115, 20117, 20118, 20120, 20121, 20122, 20123, 20125, 20127, 20129, 20130, 20131, 20134, 20137, 20138, 20139, 20140, 20141, 20142, 20143, 20301, 20302, 20310, 20314, 20320, 20321, 20322, 20323, 20324, 20325, 20330, 20345, 20400, 20409, 20410, 20420, 20421, 20422, 20444, 20445, 20447, 20450, 20451, 20452, 20453, 20466, 20499, 20510, 20521, 20522, 20523, 20545, 20622, 20647, 22118, 22119, 22120, 22121, 22122, 22123, 22126, 25000, 25001, 25003, 25007, 25009, 25012, 25013, 25014, 25022, 25023, 25024, 25025, 25026, 25027, 25028, 25030, 25035, 25037, 25038, 25039, 25040, 25043, 25046, 25048, 25050, 25052, 25053, 25054, 25056, 25059, 25060, 25063, 25064, 27000, 27009, 27014, 27015, 27017, 27018, 27019, 27023, 27027, 27028, 27029, 27030, 27032, 27033, 27034, 27035, 27042, 27043, 27046, 27047, 27049, 27050, 27051, 27052, 27053, 27054, 27055, 27056, 27057, 27058, 27059, 27060, 31001, 31002, 31005, 31006, 31007, 31008, 31010, 31011, 31012, 31013, 31014, 31015, 31016, 31017, 31018, 31021, 31022, 31023, 31024, 31025, 31026, 31027, 31028, 31029, 31030, 31031, 42040, 42063, 42074, 42116, 42117, 42131, 42135, 42137, 42138, 42139, 42140, 42151, 42153, 42155, 42157, 42158, 42171, 42178, 42182, 42185, 42186, 42187, 42189, 42192, 42193, 42200, 42204, 42205, 42230, 42231, 42235, 42256, 42259, 42270, 42272, 42281, 42283, 42289, 42290, 42291, 42303, 42304, 42307, 42309, 43015, 43016, 43017, 43019, 43020, 43021, 43026, 43028, 43060, 43098, 43100, 43109, 43114, 43125, 43128, 43129, 43130, 43131, 43132, 43134, 43135, 43136, 43137, 43144, 43146, 43154, 43155, 43158, 43212, 43215, 43217, 43261, 43269, 43273, 43274, 43275, 43276, 43278, 43299, 43311, 43329, 43331, 43340, 43346, 43350, 43352, 43355, 43364, 43365, 43369, 43379, 43382, 43387, 43392, 43396, 43398, 43404, 43405, 43406, 43447, 43449, 43450, 43476, 43479, 43506, 43514, 43541, 43543, 43566, 43572, 43589, 43595, 43597, 43598, 44005, 44018, 44048, 44110, 44158, 48052, 83110, 90240, 90480],
    "vegetarian": [1001, 1002, 1003, 1004, 1005, 1006, 1007, 1008, 1009, 1010, 1011, 1012, 1013, 1014, 1015, 1016, 1017, 1018, 1019, 1020, 1021, 1022, 1023, 1024, 1025, 1026, 1027, 1028, 1029, 1030, 1031, 1032, 1033, 1034, 1035, 1036, 1037, 1038, 1039, 1040, 1041, 1042, 1043, 1044, 1049, 1052, 1053, 1054, 1055, 1056, 1057, 1058, 1059, 1060, 1061, 1067, 1068, 1073, 1074, 1076, 1077, 1078, 1079, 1080, 1081, 1082, 1083, 1084, 1085, 1086, 1087, 1088, 1089, 1090, 1091, 1092, 1093, 1095, 1096, 1097, 1102, 1103, 1104, 1105, 1106, 1107, 1108, 1109, 1110, 1111, 1116, 1117, 1118, 1119, 1120, 1121, 1122, 1128, 1129, 1130, 1131, 1132, 1145, 1146, 1151, 1152, 1153, 1154, 1155, 1156, 1157, 1159, 1161, 1164, 1165, 1166, 1167, 1168, 1169, 1174, 1175, 1178, 1179, 1180, 1184, 1186, 1187, 1199, 1202, 1203, 1204, 1205, 1208, 1209, 1211, 1212, 1214, 1216, 1217, 1218, 1219, 1220, 1221, 1222, 1225, 1227, 1228, 1229, 1230, 1231, 1235, 1236, 1237, 1238, 1239, 1240, 1241, 1242, 1243, 1244, 1250, 1251, 1252, 1253, 1254, 1256, 1259, 1260, 1263, 1264, 1265, 1266, 1267, 1270, 1271, 1275, 1276, 1278, 1280, 1281, 4011, 4013, 4014, 4015, 4016, 4017, 4018, 4020, 4021, 4022, 4023, 4025, 4026, 4027, 4028, 4029, 4030, 4031, 4034, 4037, 4038, 4042, 4044, 4047, 4053, 4055, 4058, 4060, 4073, 4114, 4120, 4128, 4133, 4135, 4141, 4142, 4143, 4144, 4145, 4146, 4367, 4501, 4502, 4506, 4510, 4511, 4513, 4514, 4515, 4516, 4517, 4518, 4528, 4529, 4530, 4531, 4532, 4534, 4536, 4539, 4541, 4543, 4545, 4546, 4551, 4554, 4556, 4559, 4560, 4570, 4572, 4573, 4581, 4582, 4583, 4584, 4585, 4586, 4587, 4588, 4595, 4600, 4601, 4602, 4610, 4611, 4612, 4613, 4614, 4615, 4617, 4618, 4620, 4624, 4626, 4627, 4628, 4629, 4630, 4631, 4633, 4634, 4635, 4636, 4638, 4639, 4640, 4641, 4642, 4643, 4644, 4645, 4646, 4648, 4649, 4650, 4651, 4652, 4653, 4654, 4655, 4656, 4657, 4658, 4659, 4660, 4661, 4662, 4663, 4664, 4665, 4666, 4667, 4668, 4673, 4674, 4675, 4676, 4678, 4679, 4683, 4684, 4685, 4686, 4687, 4688, 4689, 4690, 4691, 4692, 4693, 4694, 4695, 4696, 4697, 4698, 4699, 4700, 4701, 4702, 4703, 4704, 4705, 4706, 4707, 4708, 6001, 6002, 6003, 6010, 6011, 6014, 6035, 6038, 6039, 6040, 6042, 6043, 6045, 6046, 6049, 6052, 6053, 6063, 6067, 6068, 6112, 6121, 6142, 6150, 6151, 6152, 6158, 6159, 6164, 6165, 6166, 6167, 6168, 6169, 6175, 6177, 6182, 6189, 6192, 6201, 6208, 6209, 6210, 6211, 6213, 6214, 6215, 6217, 6218, 6220, 6221, 6222, 6224, 6225, 6229, 6231, 6232, 6233, 6234, 6235, 6236, 6237, 6239, 6240, 6243, 6246, 6248, 6249, 6253, 6264, 6285, 6307, 6312, 6316, 6318, 6322, 6333, 6334, 6338, 6339, 6340, 6341, 6351, 6353, 6354, 6355, 6358, 6359, 6361, 6366, 6373, 6374, 6375, 6377, 6379, 6401, 6402, 6408, 6410, 6411, 6440, 6442, 6443, 6446, 6447, 6449, 6453, 6463, 6468, 6487, 6503, 6504, 6509, 6541, 6544, 6546, 6558, 6559, 6580, 6584, 6585, 6588, 6589, 6592, 6597, 6598, 6599, 6600, 6601, 6602, 6603, 6604, 6605, 6615, 6617, 6618, 6619, 6620, 6621, 6622, 6623, 6624, 6625, 6930, 6931, 6932, 6956, 6961, 6962, 6964, 6965, 6967, 6968, 6971, 6976, 6987, 6988, 6990, 6991, 6992, 6994, 6995, 8510, 8546, 9002, 9003, 9004, 9005, 9006, 9007, 9008, 9014, 9015, 9016, 9017, 9018, 9021, 9022, 9023, 9024, 9025, 9026, 9027, 9028, 9029, 9035, 9036, 9037, 9038, 9039, 9040, 9042, 9043, 9046, 9048, 9050, 9052, 9053, 9054, 9055, 9056, 9057, 9060, 9063, 9065, 9066, 9067, 9068, 9070, 9071, 9072, 9073, 9074, 9075, 9076, 9077, 9078, 9081, 9082, 9083, 9084, 9087, 9089, 9090, 9091, 9092, 9093, 9096, 9097, 9098, 9099, 9100, 9101, 9102, 9103, 9104, 9105, 9106, 9107, 9109, 9111, 9112, 9113, 9114, 9116, 9117, 9118, 9119, 9120, 9121, 9123, 9124, 9125, 9126, 9128, 9129, 9130, 9131, 9132, 9133, 9134, 9135, 9139, 9140, 9143, 9144, 9146, 9148, 9149, 9150, 9152, 9153, 9154, 9156, 9159, 9160, 9161, 9164, 9167, 9176, 9181, 9183, 9184, 9185, 9190, 9191, 9193, 9194, 9195, 9200, 9201, 9202, 9203, 9205, 9206, 9207, 9209, 9210, 9211, 9213, 9214, 9215, 9216, 9217, 9218, 9219, 9220, 9221, 9223, 9226, 9228, 9229, 9231, 9232, 9233, 9236, 9237, 9238, 9239, 9240, 9241, 9242, 9243, 9250, 9251, 9252, 9253, 9254, 9255, 9256, 9257, 9258, 9262, 9263, 9265, 9266, 9267, 9268, 9269, 9270, 9271, 9272, 9273, 9274, 9275, 9277, 9278, 9279, 9281, 9282, 9283, 9284, 9285, 9286, 9287, 9288, 9291, 9292, 9293, 9294, 9297, 9298, 9299, 9302, 9304, 9306, 9307, 9309, 9310, 9316, 9317, 9318, 9319, 9320, 9322, 9325, 9326, 9328, 9340, 9351, 9352, 9353, 9354, 9357, 9362, 9367, 9370, 9374, 9379, 9383, 9400, 9401, 9402, 9403, 9404, 9407, 9408, 9409, 9410, 9411, 9412, 9413, 9414, 9415, 9420, 9421, 9422, 9423, 9429, 9430, 9433, 9435, 9436, 9437, 9442, 9443, 9444, 9445, 9446, 9447, 9449, 9450, 9452, 9500, 9501, 9502, 9503, 9504, 9506, 9507, 9508, 9510, 9511, 9512, 9513, 9514, 9515, 9516, 9517, 9518, 11001, 11007, 11008, 11009, 11010, 11011, 11012, 11013, 11015, 11018, 11019, 11026, 11027, 11028, 11029, 11030, 11031, 11032, 11033, 11037, 11038, 11039, 11040, 11043, 11044, 11045, 11046, 11047, 11048, 11049, 11050, 11052, 11053, 11054, 11056, 11058, 11060, 11061, 11062, 11063, 11080, 11081, 11082, 11084, 11086, 11087, 11088, 11089, 11090, 11091, 11092, 11093, 11094, 11095, 11096, 11097, 11098, 11099, 11100, 11101, 11109, 11110, 11112, 11113, 11114, 11115, 11116, 11117, 11119, 11120, 11124, 11125, 11126, 11128, 11130, 11131, 11134, 11135, 11136, 11137, 11138, 11143, 11144, 11147, 11148, 11156, 11161, 11162, 11163, 11164, 11165, 11167, 11168, 11170, 11172, 11174, 11176, 11177, 11178, 11179, 11180, 11181, 11182, 11184, 11191, 11192, 11195, 11196, 11197, 11198, 11201, 11202, 11203, 11204, 11205, 11206, 11207, 11208, 11209, 11210, 11211, 11212, 11213, 11215, 11216, 11218, 11219, 11220, 11221, 11226, 11233, 11234, 11235, 11236, 11238, 11239, 11240, 11243, 11246, 11247, 11248, 11249, 11250, 11251, 11252, 11253, 11257, 11260, 11261, 11263, 11264, 11265, 11266, 11267, 11269, 11270, 11271, 11272, 11273, 11278, 11279, 11280, 11281, 11282, 11283, 11285, 11286, 11287, 11288, 11289, 11290, 11291, 11292, 11293, 11294, 11295, 11296, 11297, 11298, 11299, 11300, 11301, 11302, 11303, 11304, 11305, 11306, 11308, 11310, 11311, 11312, 11313, 11316, 11317, 11318, 11322, 11323, 11324, 11326, 11327, 11329, 11333, 11334, 11335, 11337, 11338, 11339, 11344, 11345, 11352, 11353, 11354, 11355, 11356, 11357, 11358, 11359, 11360, 11361, 11362, 11363, 11364, 11365, 11366, 11367, 11368, 11369, 11370, 11371, 11372, 11373, 11374, 11376, 11390, 11391, 11392, 11393, 11394, 11395, 11396, 11397, 11398, 11399, 11400, 11401, 11402, 11403, 11406, 11407, 11408, 11409, 11411, 11412, 11413, 11414, 11422, 11423, 11424, 11427, 11428, 11429, 11430, 11431, 11435, 11436, 11439, 11450, 11451, 11452, 11453, 11454, 11457, 11458, 11459, 11461, 11463, 11464, 11467, 11468, 11471, 11473, 11474, 11475, 11476, 11477, 11478, 11479, 11480, 11481, 11482, 11483, 11484, 11485, 11486, 11487, 11488, 11489, 11490, 11491, 11492, 11493, 11495, 11496, 11497, 11499, 11501, 11502, 11507, 11508, 11510, 11512, 11514, 11516, 11517, 11518, 11519, 11527, 11529, 11530, 11531, 11533, 11537, 11540, 11546, 11547, 11549, 11551, 11553, 11555, 11557, 11559, 11564, 11565, 11566, 11567, 11568, 11569, 11570, 11574, 11575, 11576, 11577, 11578, 11585, 11588, 11590, 11591, 11593, 11594, 11595, 11596, 11597, 11599, 11601, 11602, 11605, 11609, 11622, 11623, 11626, 11632, 11637, 11641, 11642, 11643, 11644, 11645, 11647, 11649, 11653, 11654, 11655, 11656, 11657, 11659, 11660, 11670, 11671, 11672, 11674, 11675, 11676, 11677, 11693, 11695, 11696, 11702, 11703, 11705, 11707, 11709, 11710, 11711, 11712, 11713, 11714, 11715, 11716, 11717, 11718, 11719, 11720, 11721, 11722, 11723, 11724, 11725, 11726, 11727, 11728, 11729, 11730, 11731, 11732, 11733, 11734, 11735, 11736, 11738, 11739, 11741, 11742, 11743, 11744, 11745, 11746, 11747, 11749, 11750, 11751, 11752, 11753, 11754, 11755, 11756, 11757, 11758, 11759, 11760, 11761, 11762, 11764, 11765, 11768, 11769, 11770, 11771, 11772, 11773, 11774, 11775, 11777, 11778, 11779, 11780, 11781, 11782, 11783, 11784, 11785, 11790, 11791, 11792, 11795, 11796, 11797, 11798, 11799, 11800, 11801, 11803, 11804, 11805, 11806, 11807, 11808, 11809, 11810, 11811, 11812, 11813, 11814, 11815, 11816, 11817, 11818, 11819, 11820, 11821, 11822, 11823, 11824, 11825, 11826, 11828, 11829, 11830, 11831, 11832, 11833, 11834, 11835, 11836, 11837, 11840, 11841, 11842, 11843, 11844, 11845, 11846, 11850, 11851, 11853, 11854, 11855, 11856, 11857, 11858, 11859, 11860, 11861, 11862, 11863, 11864, 11865, 11866, 11867, 11868, 11869, 11870, 11871, 11872, 11873, 11875, 11876, 11877, 11878, 11884, 11885, 11886, 11887, 11888, 11889, 11890, 11891, 11892, 11893, 11895, 11896, 11897, 11900, 11901, 11902, 11903, 11904, 11905, 11906, 11907, 11908, 11909, 11910, 11911, 11912, 11913, 11914, 11915, 11916, 11917, 11918, 11919, 11921, 11923, 11924, 11926, 11929, 11932, 11933, 11934, 11935, 11937, 11939, 11940, 11941, 11943, 11944, 11945, 11946, 11947, 11948, 11949, 11950, 11951, 11952, 11953, 11954, 11955, 11956, 11957, 11958, 11959, 11960, 11961, 11962, 11965, 11967, 11968, 11969, 11970, 11972, 11973, 11974, 11975, 11976, 11977, 11979, 11980, 11981, 11983, 11987, 11989, 11990, 11992, 11993, 11995, 11996, 11998, 12001, 12003, 12004, 12011, 12016, 12022, 12024, 12029, 12034, 12037, 12038, 12039, 12040, 12058, 12061, 12062, 12063, 12065, 12071, 12085, 12086, 12087, 12088, 12093, 12095, 12096, 12097, 12098, 12101, 12104, 12108, 12109, 12110, 12114, 12115, 12116, 12117, 12118, 12119, 12120, 12121, 12122, 12127, 12129, 12131, 12132, 12140, 12142, 12143, 12144, 12151, 12152, 12155, 12156, 12158, 12160, 12163, 12166, 12167, 12169, 12171, 12176, 12177, 12179, 12195, 12198, 12200, 12201, 12202, 12203, 12204, 12205, 12206, 12220, 12516, 12529, 12536, 12537, 12538, 12539, 12540, 12563, 12565, 12567, 12585, 12586, 12588, 12632, 12643, 12644, 12652, 12663, 12665, 12695, 12698, 14003, 14004, 14005, 14006, 14007, 14009, 14010, 14013, 14015, 14017, 14019, 14027, 14029, 14034, 14037, 14049, 14050, 14051, 14052, 14057, 14084, 14086, 14087, 14088, 14096, 14097, 14098, 14099, 14100, 14101, 14102, 14103, 14105, 14106, 14107, 14108, 14109, 14113, 14116, 14117, 14120, 14121, 14124, 14125, 14126, 14130, 14132, 14134, 14135, 14136, 14137, 14138, 14140, 14142, 14143, 14144, 14145, 14146, 14147, 14148, 14149, 14150, 14151, 14152, 14153, 14155, 14157, 14158, 14159, 14160, 14166, 14181, 14182, 14238, 14240, 14241, 14242, 14243, 14262, 14263, 14264, 14267, 14268, 14269, 14277, 14282, 14292, 14293, 14303, 14305, 14323, 14327, 14334, 14341, 14347, 14352, 14355, 14376, 14381, 14400, 14405, 14406, 14411, 14412, 14414, 14415, 14416, 14424, 14425, 14426, 14427, 14428, 14429, 14430, 14431, 14436, 14475, 14476, 14532, 14533, 14534, 14537, 14542, 14543, 14544, 14545, 14550, 14551, 14552, 14553, 14601, 14602, 14604, 14607, 14608, 14609, 14610, 14611, 14612, 14613, 14614, 14615, 14616, 14617, 14618, 14619, 14620, 14621, 14622, 14623, 14632, 14633, 14634, 14637, 14638, 14639, 14645, 14646, 14647, 14648, 14649, 14651, 15138, 16002, 16003, 16004, 16005, 16006, 16007, 16008, 16009, 16010, 16011, 16015, 16017, 16018, 16020, 16021, 16023, 16025, 16026, 16028, 16029, 16031, 16033, 16034, 16036, 16038, 16039, 16041, 16043, 16044, 16046, 16048, 16050, 16051, 16053, 16054, 16055, 16057, 16058, 16061, 16063, 16064, 16065, 16068, 16070, 16072, 16073, 16075, 16077, 16079, 16081, 16084, 16086, 16088, 16089, 16090, 16092, 16094, 16096, 16097, 16098, 16102, 16104, 16106, 16107, 16109, 16110, 16111, 16113, 16114, 16120, 16121, 16122, 16123, 16124, 16125, 16126, 16127, 16128, 16129, 16130, 16132, 16134, 16136, 16137, 16138, 16139, 16145, 16146, 16147, 16149, 16150, 16155, 16156, 16157, 16158, 16159, 16160, 16161, 16162, 16163, 16164, 16165, 16166, 16168, 16171, 16172, 16173, 16174, 16202, 16203, 16204, 16210, 16211, 16212, 16213, 16214, 16215, 16216, 16219, 16222, 16223, 16225, 16227, 16228, 16229, 16230, 16231, 16235, 16236, 16237, 16238, 16239, 16240, 16241, 16242, 16243, 16244, 16245, 16246, 16247, 16248, 16249, 16250, 16251, 16252, 16253, 16254, 16255, 16256, 16257, 16258, 16259, 16260, 16261, 16262, 16271, 16272, 16273, 16274, 16275, 16276, 16277, 16278, 16279, 16281, 16302, 16315, 16316, 16317, 16320, 16323, 16325, 16326, 16328, 16331, 16333, 16335, 16336, 16337, 16338, 16341, 16343, 16345, 16346, 16347, 16348, 16350, 16353, 16357, 16358, 16359, 16360, 16361, 16363, 16368, 16370, 16372, 16375, 16377, 16379, 16381, 16384, 16386, 16389, 16390, 16392, 16394, 16396, 16397, 16398, 16399, 16402, 16403, 16409, 16410, 16420, 16421, 16422, 16423, 16424, 16425, 16428, 16429, 16432, 16434, 16436, 16500, 16502, 16504, 16505, 16506, 16507, 16508, 16509, 16510, 16511, 16512, 16513, 16514, 16515, 16516, 16517, 16518, 16519, 16521, 16522, 16523, 16524, 16525, 16526, 16527, 16528, 16529, 16531, 16532, 16533, 16534, 16535, 16536, 16538, 16542, 16546, 16548, 16549, 16551, 16552, 16554, 16555, 16556, 16557, 16558, 16560, 16561, 16565, 16570, 16579, 16581, 16584, 16585, 16586, 16587, 16588, 16589, 16590, 16591, 16592, 16593, 16594, 16595, 16596, 16597, 16598, 16600, 16601, 16602, 16603, 16605, 16606, 16607, 16608, 16609, 16610, 16611, 19003, 19004, 19005, 19007, 19008, 19009, 19010, 19013, 19014, 19015, 19016, 19017, 19020, 19021, 19022, 19024, 19026, 19027, 19034, 19035, 19036, 19038, 19039, 19040, 19042, 19043, 19045, 19046, 19047, 19048, 19049, 19050, 19051, 19052, 19053, 19056, 19057, 19058, 19063, 19077, 19078, 19088, 19089, 19090, 19094, 19095, 19096, 19097, 19113, 19114, 19124, 19125, 19128, 19129, 19137, 19139, 19146, 19163, 19168, 19182, 19183, 19186, 19193, 19201, 19217, 19218, 19225, 19226, 19227, 19228, 19230, 19233, 19234, 19235, 19260, 19263, 19265, 19269, 19270, 19271, 19272, 19273, 19274, 19280, 19281, 19283, 19293, 19294, 19296, 19297, 19300, 19303, 19304, 19312, 19314, 19334, 19335, 19337, 19340, 19345, 19348, 19349, 19350, 19351, 19352, 19353, 19355, 19360, 19361, 19362, 19364, 19365, 19366, 19367, 19375, 19387, 19393, 19400, 19401, 19403, 19404, 19405, 19406, 19409, 19410, 19411, 19412, 19413, 19414, 19415, 19416, 19418, 19419, 19420, 19421, 19422, 19423, 19424, 19433, 19434, 19435, 19436, 19437, 19438, 19439, 19440, 19441, 19444, 19445, 19524, 19719, 19720, 19800, 19802, 19804, 19806, 19807, 19809, 19810, 19811, 19816, 19817, 19818, 19819, 19820, 19823, 19833, 19856, 19857, 19867, 19868, 19871, 19872, 19873, 19874, 19875, 19876, 19877, 19878, 19879, 19880, 19881, 19882, 19883, 19884, 19886, 19887, 19890, 19891, 19892, 19893, 19894, 19895, 19898, 19899, 19902, 19903, 19904, 19906, 19907, 19908, 19909, 19911, 19912, 19916, 20001, 20002, 20003, 20004, 20005, 20006, 20008, 20010, 20013, 20014, 20015, 20020, 20022, 20023, 20024, 20025, 20027, 20029, 20030, 20031, 20032, 20033, 20034, 20035, 20036, 20037, 20038, 20040, 20041, 20044, 20045, 20047, 20049, 20050, 20051, 20052, 20053, 20054, 20055, 20058, 20060, 20062, 20066, 20067, 20069, 20071, 20072, 20073, 20074, 20075, 20076, 20077, 20078, 20087, 20088, 20089, 20092, 20093, 20094, 20095, 20096, 20097, 20098, 20099, 20100, 20101, 20102, 20105, 20106, 20108, 20109, 20110, 20111, 20112, 20113, 20115, 20117, 20118, 20120, 20121, 20122, 20123, 20125, 20127, 20129, 20130, 20131, 20134, 20137, 20138, 20139, 20140, 20141, 20142, 20143, 20301, 20302, 20310, 20314, 20320, 20321, 20322, 20323, 20324, 20325, 20330, 20345, 20400, 20409, 20410, 20420, 20421, 20422, 20444, 20445, 20447, 20450, 20451, 20452, 20453, 20466, 20499, 20510, 20521, 20522, 20523, 20545, 20622, 20647, 22118, 22119, 22120, 22121, 22122, 22123, 22126, 25000, 25001, 25003, 25007, 25009, 25012, 25013, 25014, 25022, 25023, 25024, 25025, 25026, 25027, 25028, 25030, 25035, 25037, 25038, 25039, 25040, 25043, 25046, 25048, 25050, 25052, 25053, 25054, 25056, 25059, 25060, 25063, 25064, 27000, 27014, 27015, 27017, 27018, 27019, 27023, 27027, 27028, 27029, 27030, 27032, 27033, 27034, 27035, 27046, 27047, 27049, 27050, 27051, 27052, 27053, 27054, 27055, 27056, 27057, 27058, 27059, 27060, 31001, 31002, 31005, 31006, 31007, 31008, 31010, 31011, 31012, 31013, 31014, 31015, 31016, 31017, 31018, 31021, 31022, 31023, 31024, 31025, 31026, 31027, 31028, 31029, 31030, 31031, 42040, 42063, 42074, 42116, 42117, 42131, 42135, 42137, 42138, 42139, 42140, 42151, 42153, 42155, 42157, 42158, 42171, 42178, 42182, 42185, 42186, 42187, 42189, 42192, 42193, 42200, 42204, 42205, 42230, 42231, 42235, 42256, 42259, 42270, 42272, 42281, 42283, 42289, 42290, 42291, 42303, 42304, 42307, 42309, 43015, 43016, 43017, 43019, 43020, 43021, 43026, 43028, 43060, 43098, 43100, 43109, 43114, 43125, 43128, 43129, 43130, 43131, 43132, 43134, 43135, 43136, 43137, 43144, 43146, 43154, 43155, 43158, 43212, 43215, 43217, 43261, 43269, 43273, 43274, 43275, 43276, 43278, 43299, 43311, 43329, 43331, 43340, 43346, 43350, 43352, 43355, 43364, 43365, 43369, 43379, 43382, 43387, 43392, 43396, 43398, 43404, 43405, 43406, 43447, 43449, 43450, 43476, 43479, 43506, 43514, 43541, 43543, 43566, 43572, 43589, 43595, 43597, 43598, 44005, 44018, 44048, 44110, 44158, 48052, 90480],
    "vegan":[4031, 4034, 4037, 4038, 4042, 4044, 4047, 4053, 4055, 4058, 4060, 4073, 4128, 4135, 4146, 4501, 4502, 4506, 4510, 4511, 4513, 4514, 4515, 4516, 4517, 4518, 4528, 4529, 4530, 4531, 4532, 4534, 4536, 4541, 4543, 4545, 4546, 4551, 4554, 4556, 4559, 4560, 4570, 4572, 4573, 4581, 4582, 4583, 4584, 4586, 4587, 4588, 4595, 4600, 4612, 4613, 4614, 4620, 4624, 4629, 4630, 4631, 4633, 4634, 4642, 4643, 4644, 4645, 4646, 4648, 4649, 4650, 4651, 4652, 4653, 4654, 4655, 4656, 4657, 4658, 4659, 4660, 4661, 4662, 4663, 4664, 4665, 4666, 4667, 4668, 4678, 4679, 4683, 4684, 4693, 4694, 4695, 4697, 4698, 4699, 4700, 4701, 4702, 4707, 6151, 6152, 6164, 6168, 6169, 6175, 6217, 6322, 6442, 6449, 6463, 6468, 6504, 6559, 6580, 6585, 6588, 6615, 6618, 6620, 6621, 6622, 6623, 6624, 6625, 6931, 6932, 6956, 6961, 6962, 6964, 6965, 6967, 6971, 6976, 6987, 6988, 6990, 6991, 6992, 6994, 6995, 9002, 9003, 9004, 9005, 9006, 9007, 9008, 9014, 9015, 9016, 9017, 9018, 9021, 9022, 9023, 9024, 9025, 9026, 9027, 9028, 9029, 9035, 9036, 9037, 9038, 9039, 9040, 9042, 9043, 9046, 9048, 9050, 9052, 9053, 9054, 9055, 9056, 9057, 9060, 9063, 9065, 9066, 9067, 9068, 9070, 9071, 9072, 9073, 9074, 9075, 9076, 9077, 9078, 9081, 9082, 9083, 9084, 9087, 9089, 9090, 9091, 9092, 9093, 9096, 9097, 9098, 9099, 9100, 9101, 9102, 9103, 9104, 9105, 9106, 9107, 9109, 9111, 9112, 9113, 9114, 9116, 9117, 9118, 9119, 9120, 9121, 9123, 9124, 9125, 9126, 9128, 9129, 9130, 9131, 9132, 9133, 9134, 9135, 9139, 9140, 9143, 9144, 9146, 9148, 9149, 9150, 9152, 9153, 9154, 9156, 9159, 9160, 9161, 9164, 9167, 9176, 9181, 9183, 9184, 9185, 9190, 9191, 9193, 9194, 9195, 9200, 9201, 9202, 9203, 9205, 9206, 9207, 9209, 9210, 9211, 9213, 9214, 9215, 9216, 9217, 9218, 9219, 9220, 9221, 9223, 9226, 9228, 9229, 9231, 9232, 9233, 9236, 9237, 9238, 9239, 9240, 9241, 9242, 9243, 9250, 9251, 9252, 9253, 9254, 9255, 9256, 9257, 9258, 9262, 9263, 9265, 9266, 9267, 9268, 9269, 9270, 9271, 9272, 9273, 9274, 9275, 9277, 9278, 9279, 9281, 9282, 9283, 9284, 9285, 9286, 9287, 9288, 9291, 9292, 9293, 9294, 9297, 9298, 9299, 9302, 9304, 9306, 9307, 9309, 9310, 9316, 9317, 9318, 9319, 9320, 9322, 9325, 9326, 9328, 9340, 9351, 9352, 9353, 9354, 9357, 9362, 9367, 9370, 9374, 9379, 9383, 9400, 9401, 9402, 9403, 9404, 9407, 9408, 9409, 9410, 9411, 9412, 9413, 9414, 9415, 9420, 9421, 9422, 9423, 9429, 9430, 9433, 9435, 9436, 9437, 9442, 9443, 9444, 9445, 9446, 9447, 9449, 9450, 9452, 9500, 9501, 9502, 9503, 9504, 9506, 9507, 9508, 9510, 9511, 9512, 9513, 9514, 9515, 9516, 9517, 9518, 11001, 11007, 11008, 11009, 11010, 11011, 11012, 11013, 11015, 11018, 11019, 11026, 11027, 11028, 11029, 11030, 11031, 11032, 11033, 11037, 11038, 11039, 11040, 11043, 11044, 11045, 11046, 11047, 11048, 11049, 11050, 11052, 11053, 11054, 11056, 11058, 11060, 11061, 11062, 11063, 11080, 11081, 11082, 11084, 11086, 11087, 11088, 11089, 11090, 11091, 11092, 11093, 11094, 11095, 11096, 11097, 11098, 11099, 11100, 11101, 11109, 11110, 11112, 11113, 11114, 11115, 11116, 11117, 11119, 11120, 11124, 11125, 11126, 11128, 11130, 11131, 11134, 11135, 11136, 11137, 11138, 11143, 11144, 11147, 11148, 11156, 11161, 11162, 11163, 11164, 11165, 11167, 11168, 11170, 11172, 11174, 11176, 11177, 11178, 11179, 11180, 11181, 11182, 11184, 11191, 11192, 11195, 11196, 11197, 11198, 11201, 11202, 11203, 11204, 11205, 11206, 11207, 11208, 11209, 11210, 11211, 11212, 11213, 11215, 11216, 11218, 11219, 11220, 11221, 11226, 11233, 11234, 11235, 11236, 11238, 11239, 11240, 11243, 11246, 11247, 11248, 11249, 11250, 11251, 11252, 11253, 11257, 11260, 11261, 11263, 11264, 11265, 11266, 11267, 11269, 11270, 11271, 11272, 11273, 11278, 11279, 11280, 11281, 11282, 11283, 11285, 11286, 11287, 11288, 11289, 11290, 11291, 11292, 11293, 11294, 11295, 11296, 11297, 11298, 11299, 11300, 11301, 11302, 11303, 11304, 11305, 11306, 11308, 11310, 11311, 11312, 11313, 11316, 11317, 11318, 11322, 11323, 11324, 11326, 11327, 11329, 11333, 11334, 11335, 11337, 11338, 11339, 11344, 11345, 11352, 11353, 11354, 11355, 11356, 11357, 11358, 11359, 11360, 11361, 11362, 11363, 11364, 11365, 11366, 11367, 11368, 11369, 11370, 11371, 11372, 11373, 11374, 11376, 11390, 11391, 11392, 11393, 11394, 11395, 11396, 11397, 11398, 11399, 11400, 11401, 11402, 11403, 11406, 11407, 11408, 11409, 11411, 11412, 11413, 11414, 11422, 11423, 11424, 11427, 11428, 11429, 11430, 11431, 11435, 11436, 11439, 11450, 11451, 11452, 11453, 11454, 11457, 11458, 11459, 11461, 11463, 11464, 11467, 11468, 11471, 11473, 11474, 11475, 11476, 11477, 11478, 11479, 11480, 11481, 11482, 11483, 11484, 11485, 11486, 11487, 11488, 11489, 11490, 11491, 11492, 11493, 11495, 11496, 11497, 11499, 11501, 11502, 11507, 11508, 11510, 11512, 11514, 11516, 11517, 11518, 11519, 11527, 11529, 11530, 11531, 11533, 11537, 11540, 11546, 11547, 11549, 11551, 11553, 11555, 11557, 11559, 11564, 11565, 11566, 11567, 11568, 11569, 11570, 11574, 11575, 11576, 11577, 11578, 11585, 11588, 11590, 11591, 11593, 11594, 11595, 11596, 11597, 11599, 11601, 11602, 11605, 11609, 11622, 11623, 11626, 11632, 11637, 11641, 11642, 11643, 11644, 11645, 11647, 11649, 11653, 11654, 11655, 11656, 11657, 11659, 11660, 11670, 11671, 11672, 11674, 11675, 11676, 11677, 11693, 11695, 11696, 11702, 11703, 11705, 11707, 11709, 11710, 11711, 11712, 11713, 11714, 11715, 11716, 11717, 11718, 11719, 11720, 11721, 11722, 11723, 11724, 11725, 11726, 11727, 11728, 11729, 11730, 11731, 11732, 11733, 11734, 11735, 11736, 11738, 11739, 11741, 11742, 11743, 11744, 11745, 11746, 11747, 11749, 11750, 11751, 11752, 11753, 11754, 11755, 11756, 11757, 11758, 11759, 11760, 11761, 11762, 11764, 11765, 11768, 11769, 11770, 11771, 11772, 11773, 11774, 11775, 11777, 11778, 11779, 11780, 11781, 11782, 11783, 11784, 11785, 11790, 11791, 11792, 11795, 11796, 11797, 11798, 11799, 11800, 11801, 11803, 11804, 11805, 11806, 11807, 11808, 11809, 11810, 11811, 11812, 11813, 11814, 11815, 11816, 11817, 11818, 11819, 11820, 11821, 11822, 11823, 11824, 11825, 11826, 11828, 11829, 11830, 11831, 11832, 11833, 11834, 11835, 11836, 11837, 11840, 11841, 11842, 11843, 11844, 11845, 11846, 11850, 11851, 11853, 11854, 11855, 11856, 11857, 11858, 11859, 11860, 11861, 11862, 11863, 11864, 11865, 11866, 11867, 11868, 11869, 11870, 11871, 11872, 11873, 11875, 11876, 11877, 11878, 11884, 11885, 11886, 11887, 11888, 11889, 11890, 11891, 11892, 11893, 11895, 11896, 11897, 11900, 11901, 11902, 11903, 11904, 11905, 11906, 11907, 11908, 11909, 11910, 11911, 11912, 11913, 11914, 11915, 11916, 11917, 11918, 11919, 11921, 11923, 11924, 11926, 11929, 11932, 11933, 11934, 11935, 11937, 11939, 11940, 11941, 11943, 11944, 11945, 11946, 11947, 11948, 11949, 11950, 11951, 11952, 11953, 11954, 11955, 11956, 11957, 11958, 11959, 11960, 11961, 11962, 11965, 11967, 11968, 11969, 11970, 11972, 11973, 11974, 11975, 11976, 11977, 11979, 11980, 11981, 11983, 11987, 11989, 11990, 11992, 11993, 11995, 11996, 11998, 12001, 12003, 12004, 12011, 12016, 12022, 12024, 12029, 12034, 12037, 12038, 12039, 12040, 12058, 12061, 12062, 12063, 12065, 12071, 12085, 12086, 12087, 12088, 12093, 12095, 12096, 12097, 12098, 12101, 12104, 12108, 12109, 12110, 12114, 12115, 12116, 12117, 12118, 12119, 12120, 12121, 12122, 12127, 12129, 12131, 12132, 12140, 12142, 12143, 12144, 12151, 12152, 12155, 12156, 12158, 12160, 12163, 12166, 12167, 12169, 12171, 12176, 12177, 12179, 12195, 12198, 12200, 12201, 12202, 12203, 12204, 12205, 12206, 12220, 12516, 12529, 12536, 12537, 12538, 12539, 12540, 12563, 12565, 12567, 12585, 12586, 12588, 12632, 12643, 12644, 12652, 12663, 12665, 12695, 12698, 14003, 14004, 14005, 14006, 14007, 14009, 14010, 14013, 14015, 14017, 14019, 14027, 14029, 14034, 14037, 14049, 14050, 14051, 14052, 14057, 14084, 14086, 14087, 14088, 14096, 14097, 14098, 14099, 14100, 14101, 14102, 14103, 14105, 14106, 14107, 14108, 14109, 14113, 14116, 14117, 14120, 14121, 14124, 14125, 14126, 14130, 14132, 14134, 14135, 14136, 14137, 14138, 14140, 14142, 14143, 14144, 14145, 14146, 14147, 14148, 14149, 14150, 14151, 14152, 14153, 14155, 14157, 14158, 14159, 14160, 14166, 14181, 14238, 14240, 14241, 14242, 14243, 14262, 14263, 14264, 14267, 14268, 14269, 14277, 14282, 14292, 14293, 14303, 14305, 14323, 14327, 14334, 14341, 14347, 14352, 14355, 14376, 14381, 14400, 14405, 14406, 14411, 14412, 14414, 14415, 14416, 14424, 14425, 14426, 14427, 14428, 14429, 14430, 14431, 14436, 14475, 14476, 14532, 14533, 14534, 14537, 14542, 14543, 14544, 14545, 14550, 14551, 14552, 14553, 14601, 14602, 14604, 14607, 14608, 14609, 14610, 14611, 14612, 14613, 14614, 14615, 14616, 14617, 14618, 14619, 14620, 14621, 14622, 14623, 14632, 14633, 14637, 14638, 14639, 14645, 14646, 14647, 14648, 14649, 14651, 16002, 16003, 16004, 16005, 16006, 16007, 16008, 16009, 16010, 16011, 16015, 16017, 16018, 16020, 16021, 16023, 16025, 16026, 16028, 16029, 16031, 16033, 16034, 16036, 16038, 16039, 16041, 16043, 16044, 16046, 16048, 16050, 16051, 16053, 16054, 16055, 16057, 16058, 16061, 16063, 16064, 16065, 16068, 16070, 16072, 16073, 16075, 16077, 16079, 16081, 16084, 16086, 16088, 16089, 16090, 16092, 16094, 16096, 16097, 16098, 16102, 16104, 16106, 16107, 16109, 16110, 16111, 16113, 16114, 16120, 16121, 16122, 16123, 16124, 16125, 16126, 16127, 16128, 16129, 16130, 16132, 16134, 16136, 16137, 16138, 16139, 16145, 16146, 16147, 16149, 16150, 16155, 16156, 16157, 16158, 16159, 16160, 16161, 16162, 16163, 16164, 16165, 16166, 16168, 16171, 16172, 16173, 16174, 16202, 16203, 16204, 16210, 16211, 16212, 16213, 16214, 16215, 16216, 16219, 16222, 16223, 16225, 16227, 16228, 16229, 16230, 16231, 16235, 16236, 16237, 16238, 16239, 16240, 16241, 16242, 16243, 16244, 16245, 16246, 16247, 16248, 16249, 16250, 16251, 16252, 16253, 16254, 16255, 16256, 16257, 16258, 16259, 16260, 16261, 16262, 16271, 16272, 16273, 16274, 16275, 16276, 16277, 16278, 16279, 16281, 16302, 16315, 16316, 16317, 16320, 16323, 16325, 16326, 16328, 16331, 16333, 16335, 16336, 16337, 16338, 16341, 16343, 16345, 16346, 16347, 16348, 16350, 16353, 16357, 16358, 16359, 16360, 16361, 16363, 16368, 16370, 16372, 16375, 16377, 16379, 16381, 16384, 16386, 16389, 16390, 16392, 16394, 16396, 16397, 16398, 16399, 16402, 16403, 16409, 16410, 16420, 16421, 16422, 16423, 16424, 16425, 16428, 16429, 16432, 16434, 16436, 16500, 16502, 16504, 16505, 16506, 16507, 16508, 16509, 16510, 16511, 16512, 16513, 16514, 16515, 16516, 16517, 16518, 16519, 16521, 16522, 16523, 16524, 16525, 16526, 16527, 16528, 16529, 16531, 16532, 16533, 16534, 16535, 16536, 16538, 16542, 16546, 16548, 16549, 16551, 16552, 16554, 16555, 16556, 16557, 16558, 16560, 16561, 16565, 16570, 16579, 16581, 16584, 16585, 16586, 16587, 16588, 16589, 16590, 16591, 16592, 16593, 16594, 16595, 16596, 16597, 16598, 16600, 16601, 16602, 16603, 16605, 16606, 16607, 16608, 16609, 16610, 16611, 19003, 19004, 19005, 19007, 19008, 19009, 19010, 19013, 19014, 19015, 19016, 19017, 19020, 19021, 19022, 19024, 19026, 19027, 19034, 19035, 19036, 19038, 19039, 19042, 19043, 19045, 19046, 19047, 19048, 19050, 19051, 19052, 19053, 19056, 19057, 19058, 19063, 19077, 19078, 19124, 19125, 19128, 19129, 19137, 19139, 19146, 19183, 19186, 19193, 19201, 19217, 19226, 19227, 19228, 19230, 19233, 19234, 19235, 19272, 19273, 19274, 19294, 19304, 19334, 19335, 19337, 19340, 19345, 19348, 19349, 19350, 19351, 19352, 19353, 19355, 19360, 19361, 19362, 19364, 19365, 19366, 19367, 19375, 19387, 19393, 19400, 19401, 19403, 19404, 19405, 19406, 19410, 19411, 19412, 19413, 19414, 19415, 19416, 19418, 19419, 19420, 19421, 19422, 19423, 19424, 19433, 19434, 19435, 19436, 19437, 19438, 19439, 19440, 19441, 19444, 19445, 19524, 19719, 19720, 19800, 19802, 19804, 19806, 19807, 19809, 19810, 19811, 19816, 19817, 19818, 19819, 19820, 19823, 19833, 19856, 19857, 19902, 19903, 19904, 19906, 19907, 19908, 19909, 19911, 19912, 19916, 20001, 20002, 20003, 20004, 20005, 20006, 20008, 20010, 20013, 20014, 20015, 20020, 20022, 20023, 20024, 20025, 20027, 20029, 20030, 20031, 20032, 20033, 20034, 20035, 20036, 20037, 20038, 20040, 20041, 20044, 20045, 20047, 20049, 20050, 20051, 20052, 20053, 20054, 20055, 20058, 20060, 20062, 20066, 20067, 20069, 20071, 20072, 20073, 20074, 20075, 20076, 20077, 20078, 20087, 20088, 20089, 20092, 20129, 20130, 20131, 20134, 20137, 20138, 20139, 20140, 20141, 20142, 20143, 20301, 20302, 20314, 20320, 20322, 20323, 20324, 20325, 20330, 20345, 20422, 20444, 20445, 20447, 20450, 20451, 20452, 20453, 20466, 20499, 20522, 20545, 20647, 22118, 22119, 22120, 22121, 22122, 22123, 22126, 25000, 25001, 25007, 25009, 25012, 25013, 25014, 25022, 25023, 25024, 25025, 25026, 25027, 25028, 25030, 25035, 25037, 25038, 25039, 25040, 25043, 25046, 25048, 25050, 25052, 25053, 25054, 25056, 25059, 25060, 25063, 25064, 27014, 27015, 27017, 27018, 27019, 27023, 27027, 27028, 27029, 27030, 27032, 27035, 27046, 27047, 27049, 27050, 27051, 27052, 27053, 27054, 27055, 27056, 27057, 27058, 27059, 27060, 31001, 31002, 31005, 31006, 31007, 31008, 31010, 31011, 31012, 31013, 31014, 31015, 31016, 31017, 31018, 31021, 31022, 31023, 31024, 31025, 31026, 31027, 31028, 31029, 31030, 31031, 42040, 42063, 42117, 42139, 42151, 42182, 42200, 42204, 42231, 42259, 42270, 42272, 42281, 42283, 42289, 42291, 43026, 43028, 43060, 43100, 43109, 43114, 43125, 43128, 43129, 43130, 43131, 43132, 43134, 43135, 43136, 43137, 43144, 43146, 43154, 43155, 43158, 43212, 43217, 43299, 43311, 43350, 43365, 43382, 43387, 43392, 43404, 43406, 43447, 43449, 43476, 43479, 43566, 43572, 43595, 44005, 44018, 48052, 90480]
    }

def load_data():
    # this SQL selects the FOOD_ID, NUTRIENT_ID and AMOUNT and does some manual filtering of things people don't eat
    #
    # A note: the DB contains entrieds for energy in two different units. 208 and 268 are both "energy" but one is kcal the other is j. Having both causes collision errors in the logic so I dump 268
    #
    nutrient_sql="""
    select 
           a.food_id ,a.nutrient_id,a.amount from  nutrition as a
    inner join food as b on
           a.food_id=b.id
    where 
           a.nutrient_id not in (268) and -- both 208 and 268 are labeled as energy, which causes problems
           b.food_group_id not in (200,300,800,1800,2100,2200,3500,3600) -- unappealing groups like baby-food and herbs
           and 
           a.food_id not in (1045,1046,1047,1048,1050,1072,1112,1114,1163,1185,1188,1189,1190, -- these foods are gross, or rare, or otherwise blacklisted
    1191,1192,1193,1194,1200,1215,1226,9001,9059,9061,9062,9086,
    9088,9138,9145,9172,9174,9175,9177,9192,9276,9295,9296,9301,
    9311,9312,9313,9314,9315,9321,9334,9426,9427,9428,9434,9448,
    9451,10802,10804,10851,10852,10853,10854,10855,10856,10857,11003,11004,
    11005,11006,11022,11023,11024,11025,11104,11105,11106,11107,11108,11122,
    11123,11141,11142,11145,11149,11150,11151,11152,11154,11157,11158,11190,
    11199,11200,11222,11223,11224,11225,11228,11231,11232,11237,11241,11242,
    11244,11245,11254,11255,11258,11259,11274,11275,11276,11277,11349,11350,
    11351,11416,11417,11418,11419,11437,11438,11448,11503,11504,11505,11506,
    11520,11521,11522,11523,11525,11526,11563,11587,11603,11604,11613,11614,
    11616,11617,11618,11620,11621,11658,11697,11698,11700,11701,11737,11748,
    11763,11766,11767,11786,11787,11788,11789,11793,11794,11802,11827,11847,
    11848,11849,11852,11874,11879,11880,11881,11898,11899,11922,11925,11927,
    11928,11963,11964,11984,11985,11986,11991,13166,15030,15056,15058,15069,
    15098,15109,15113,15189,15190,15193,15194,15195,15198,15199,15206,15208,
    15213,15215,15224,15232,15252,17144,17145,17146,17147,17148,17149,17150,
    17151,17152,17153,17156,17157,17158,17159,17160,17161,17162,17163,17164,
    17165,17166,17167,17168,17169,17170,17171,17172,17173,17174,17175,17176,
    17177,17178,17179,17180,17181,17182,17183,17184,17267,17268,17269,17280,
    17281,17282,17283,17284,17285,17286,17287,17288,17289,17290,17291,17292,
    17293,17294,17295,17296,17297,17298,17299,17300,17301,17302,17303,17304,
    17305,17306,17307,17308,17309,17310,17311,17312,17313,17314,17315,17316,
    17317,17318,17319,17320,17321,17322,17323,17324,17325,17326,17327,17328,
    17329,17330,17331,17332,17333,17334,17335,17336,17337,17338,17339,17340,
    17341,17342,17343,17344,17345,17346,17347,17348,42141,42149,42258,43142,
    43143,43287)
            and b.long_desc not like '%powder%'
            and b.long_desc not like '%powdered%'
            and b.long_desc not like '%flour,%'
            and b.long_desc not like '%mix%'
            and b.long_desc not like '%Mix%'
            and upper(b.long_desc) not like '%ENSURE,%'
            and upper(b.long_desc) not like '%ENSURE %'
            and b.long_desc not like '%USDA Commodity%'
            and b.long_desc not like '% flower%'
            and b.long_desc not like 'Game meat%'
            and b.long_desc not like 'Bison%'
            and b.long_desc not like '%caribou%'
            and b.long_desc not like '%Formulated bar%'
            and b.long_desc not like '%formulated bar%'
            and b.long_desc not like '%Alaska Native%'
            and b.long_desc not like 'Elk%'
            and upper(b.long_desc) not like 'COFFEE%'
            and b.long_desc not like 'Seaweed%'
            and b.long_desc not like '%Alaska Native%'
            and b.long_desc not like '%, dry'
            and b.long_desc not like '%, dry,$'
            and b.long_desc not like '%, dried'
            and b.long_desc not like '%, dried,%'
            and b.long_desc not like '%, dehydrated%'
            and b.long_desc not like '%, freeze-dried'
            and b.long_desc not like '%, freeze-dried,%'
            and b.long_desc not like 'Formulated bar,%'
            and b.long_desc not like 'Candies, %'
            and b.long_desc not like 'Water, bottled%'
            and b.long_desc not like 'Beverages,%'
            and b.long_desc not like 'Energy drink,%'
            and not ( food_group_id in (100,500,700,1000,1300,1500,1600) and                 -- disallow raw foods from certain food groups (eg, meat)
    ( long_desc like  '%, raw,%' or long_desc like  '%, raw' or long_desc like  '%, uncooked,%' or long_desc like  '%, uncooked' )  )
    """
        
    conn = sqlite3.connect('./data/usda.sql3')
    tmp=pandas.read_sql(nutrient_sql,conn)
    nutrients=tmp.pivot(index='food_id', columns='nutrient_id', values='amount')
    nutrients=nutrients.fillna(0).astype('float32')
    
    #we need to make the requirements and demands conform to the nutrients table above, though they are unaligned.
    
    #TODO: remove dupe records from input file -- this assumes no dupes!
    
    tmp=pandas.read_csv('./data/human_requirements.csv')
    y=nutrients.iloc[0,:] # start with the first row of the nutrients table
    y=y.fillna(0) # makes sure all values are filled: NaN->0
    y.columns=nutrients.columns # steal the column indices
    y.name='requirments'
    y[:] = 0 # set whole vector to zero
    y.loc[tmp.iloc[:,0]] = tmp.iloc[:,2].values # fill y with values read from csv ( why .values? see https://stackoverflow.com/questions/24419769/pandas-copying-using-iloc-not-working-as-expected )
    reqd=y.astype('float32')
    
    tmp=pandas.read_csv('./data/human_limits.csv')
    y=nutrients.iloc[0,:] # start with the first row of the nutrients table
    y=y.fillna(1e10) # makes sure all values are filled: NaN->1e10
    y.columns=nutrients.columns # steal the column indices
    y.name='requirments'
    y[:] = 0 # set whole vector to zero
    y.loc[tmp.iloc[:,0]] = tmp.iloc[:,2].values # fill y with values read from csv ( why .values? see https://stackoverflow.com/questions/24419769/pandas-copying-using-iloc-not-working-as-expected )
    limt=y.astype('float32')
    limt[limt==0] = 1e10 # if limit is not set, set to very large number
    
    food_desc=pandas.read_sql("select id as food_id, long_desc from food",conn,index_col="food_id")
    
    nutrient_desc=pandas.read_sql("select id,name from nutrient where id not in (268)",conn,index_col="id")

    # this file contains the weights of standard units of each food item (eg, 1 cup of butter is 200g (or whatever))
    weights=pandas.read_csv('./data/WEIGHT.txt',sep='^',encoding='latin-1',header=None,names=['food_id','seq','amt','desc','grams','num','stddev'],index_col='food_id')
    weights_minmax=weights.loc[:,['grams']].groupby(['food_id']).agg( [max, min])
    # multiindex is a pain - flatten.
    weights_minmax.columns=['max','min']
    
    return (nutrients,reqd,limt,food_desc,nutrient_desc,weights_minmax)

# This is how deap wants its evaluate function:
#  it accepts one individual (one basket of foods)
#  and returns a tuple of fitness
def evaluate(individual,nut,limt,reqd,weights_minmax,targets):
    try:
        nt=nut.iloc[individual,:]
    except:
        print('[!] Evaluate got bad individual, ',individual)
        return (9e9,) 
    
    # experimental: weight the LP by the minimum weight. that way the LP should minimize the degree to which
    #  the food amounts exceed the minimum weights... maybe
    min_weights=nt.join(weights_minmax)['min'].replace(numpy.nan,50).values
    c = matrix(min_weights/100) 
        
    #c = matrix(numpy.repeat(1.0,nt.shape[0]))
    np_G= numpy.concatenate(
                            (   nt.transpose().values, 
                                nt.transpose().multiply(-1.0).values,
                                numpy.diag(numpy.repeat(-1,nt.shape[0])) 
                            )
                           ).astype(numpy.double) 
    G = matrix( np_G ) 
    h = matrix( numpy.concatenate( (
                    limt.values, 
                    reqd.multiply(-1.0).values, 
                    numpy.repeat(0.0,nt.shape[0])
                ) ).astype(numpy.double) )
    try:
        o = solvers.lp(c, G, h, solver='glpk')
    except:
        o={}
        o['status'] = 'nope'
    if o['status'] != 'optimal':
        fit=9e9
    else:
        ## scale nutrients
        #nt_scaled=pandas.DataFrame( scaler.transform(nt), columns=nt.columns, index=nt.index)
        #diet_nutrients_scaled=nt_scaled.multiply(numpy.array(o['x']),axis=0).sum(axis=0)
        #diet_nutrients_scaled.name='nutrients'
        ## scale targets
        #target=pandas.Series(targets,name='targets')
        #b=nt.iloc[0,:]*0
        #b=b.replace(0,numpy.nan)
        #target_scaled=pandas.Series(scaler.transform([target.combine_first(b)])[0,:], index=nt.columns,name='targets')
        #fit = ev(diet_nutrients_scaled, target_scaled)
        
        # weights
        # the idea here is that each food has some 'common units' like a cup of milk, or a teaspoon of nutmeg
        # if the diet includes greatly more than the largest standard unit or greatly less than the smallest standard unit, penalize the diet.
        # some of the 'max' values are still gross... ie, a large rutabega is >700g
        w=nt.join(weights_minmax).loc[:,['max','min']]
        w['amt']=numpy.array(o['x'])*100
        w['under']=numpy.maximum((w['min'] - w['amt'])/w['min'], 0)
        w['over']=numpy.maximum( (w['amt'] - w['max'])/w['max'], 0)
        gross=numpy.maximum( w['under'],w['over'] ).sum()
        
        diet_nutrients=nt.multiply(numpy.array(o['x']),axis=0).sum(axis=0)
        diet_nutrients.name='nutrients'
        target=pandas.Series(targets,name='targets')
        fit = ev(diet_nutrients, target) + gross
        #numpy.dot( numpy.array(o['x']).transpose(), nt.loc[:,metric_nutrients].values * numpy.array(metric_weights) ).item(0)     #numpy.dot(nt.loc[:,metric_nutrients].values,numpy.array(o['x'])).item(0)
    return (fit,)    

def ev(diet_nutrients,targets):
    #
    # note: both inputs are pandas.Series() and must have names: nutrients & targets
    
    # The philosophy of the optimization is that any target amounts (eg, calories[208] ~= 2000) should be specified in reqd or limt
    #  here you can minimize a nutrient (ie, minimize carbs)
    #  and penalize "grossness"
    #
    if len(targets) == 0:
        return 0.0
    
    d=pandas.concat([diet_nutrients,targets],axis=1)
    return d.apply( lambda x: abs(x['nutrients'] - x['targets'])/x['targets'], axis=1 ).sum()
    #return sum([ (diet_nutrients[i] + targets[i])/targets[i] for i in targets.index ]) #(diet_nutrients[targets.index] + targets).sum()

def InitPopulation( pcls, ind_init,nfood, nclust, nseed,clust):
    
    N=numpy.random.multinomial(nfood,pvals=[1.0/nclust]*nclust,size=nseed) # Even probability
    tmp2=[]
    for j in range(N.shape[0]):
        tmp=[]
        for k in numpy.where(N[j,:]>0)[0]:
            t=numpy.random.choice(numpy.where(clust==k)[0],N[j,k])
            tmp=numpy.append(tmp, t).astype(int).tolist()
        tmp2.append(tmp)
        
    return pcls(ind_init(c) for c in tmp2)

def generate_ssdum(random, args):
    nfood=args.get('nfood')
    return rand.choices(range( nutrients.shape[0] ), k=nfood)
