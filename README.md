# Diet API

This is a dockerized rest API to compute nutritionally optimal diets. This version abuses cloud build to do all the computation in batch.

# Inputs

It expects `query.json` data containing a list (!) of diet queries, for example,

```
[{
 "nfoods":6,
 "exclude_food_ids":[],
 "include_food_ids":[5009,5140,5147,5166,5308,5315,5622,5642,9003,9004,9021,9037,9038,9039,9040,9042,9050,9057,9060,9063,9070,9077,9078,9083,9084,9087,9089,9107,9111,9112,9113,9114,9116,9117,9118,9129,9131,9132,9139,9140,9144,9146,9148,9149,9150,9156,9159,9164,9167,9176,9181,9183,9184,9190,9191,9193,9200,9201,9202,9203,9205,9216,9218,9226,9231,9236,9252,9263,9265,9266,9277,9279,9286,9287,9302,9307,9316,9322,9326,9340,9412,9413,9414,9415,9422,9429,9430,9433,9445,9449,9500,9501,9502,9503,9504,10007,10021,11001,11007,11011,11026,11029,11031,11043,11046,11048,11050,11052,11080,11086,11088,11090,11096,11098,11109,11112,11114,11116,11119,11124,11135,11143,11147,11156,11161,11165,11167,11191,11197,11201,11203,11205,11207,11209,11211,11213,11215,11216,11218,11220,11226,11233,11238,11239,11240,11246,11248,11250,11251,11252,11253,11257,11260,11265,11266,11270,11278,11282,11291,11292,11293,11294,11297,11298,11300,11304,11333,11344,11352,11353,11354,11355,11422,11427,11429,11430,11435,11450,11452,11457,11467,11475,11477,11482,11485,11489,11492,11495,11507,11518,11527,11529,11564,11568,11588,11591,11593,11595,11597,11599,11601,11622,11637,11641,11643,11653,11670,11676,11677,11695,11696,11722,11739,11741,11749,11750,11819,11821,11900,11950,11951,11952,11953,11954,11957,11959,11960,11965,11972,11973,11974,11976,11977,11979,11981,11987,11990,11993,11995,12001,12004,12024,12037,12039,12058,12061,12063,12087,12093,12097,12098,12104,12120,12127,12131,12142,12151,12155,12158,12163,12202,12205,12220,13020,14411,14412,14429,15009,15012,15016,15029,15034,15037,15040,15047,15052,15063,15067,15082,15086,15100,15111,15116,15118,15137,15140,15148,15165,15169,15178,15188,15191,15192,15196,15197,15200,15202,15203,15204,15205,15209,15210,15211,15212,15216,15217,15218,15220,15221,15222,15226,15227,15230,15231,15233,15235,15237,15239,15241,15244,15246,15247,15262,15267,15269,15271,15273,16390,17000,17224,19296,19911,19912,20001,20005,20008,20031,20033,20035,20036,20038,20040,20044,20050,20052,20054,20062,20067,20069,20071,20072,20073,20074,20075,20076,20087,20088,20138,20140,20142,20314,20444,20450,20452,20466,43282,43283,43392],
 "targets": {},
 "minima": {"208": 1900,
        "205": 250,
        "203": 85,
        "204": 65
},

 "maxima":{"208": 2100}
}]

```

- nfoods: The maximum number of foods the solution diet can contain
- exclude_food_ids: foods to be excluded from all diets (by USDA food id)
- include_food_ids: foods to be included from all diets (by USDA food id)
- targets: a precise target for a given nutrient (deprecated)
- minima: minimum values for nutrients
- maxima: maximum values for nutrients

# Outputs

The output is a gigantic json containing the diet and all nutrients. The `report()` function can convert the json into a simple html file that is easier to read.

```
{'id': 'pesc+keto', 'time_utc': '2022-04-09 18:10:04.198223', 'raw_amount': {15080: 1.19343, 16098: 1.58276, 1033: 1.35298, 15237: 1.08684, 4038: 0.06059, 11965: 5.72323}, 'scaled_amount': {15080: 119.343, 16098: 158.27599999999998, 1033: 135.298, 15237: 108.684, 4038: 6.059, 11965: 572.323}, 'food_description': {15080: 'Fish, salmon, chum, canned, drained solids with bone', 16098: 'Peanut butter, smooth style, with salt', 1033: 'Cheese, parmesan, hard', 15237: 'Fish, salmon, Atlantic, farmed, cooked, dry heat', 4038: 'Oil, wheat germ', 11965: 'Cauliflower, green, raw'}, 'nutrient_full': {'Fish, salmon, chum, canned, drained solids with bone': {'Protein': 25.575205264205934, 'Total lipid (fat)': 6.563865, 'Carbohydrate, by difference': 0.0, 'Ash': 2.947772134144306, 'Energy': 168.27363, 'Starch': 0.0, 'Sucrose': 0.0, 'Glucose (dextrose)': 0.0, 'Fructose': 0.0, 'Lactose': 0.0, 'Maltose': 0.0, 'Alcohol, ethyl': 0.0, 'Water': 84.45903709373474, 'Adjusted Protein': 0.0, 'Caffeine': 0.0, 'Theobromine': 0.0, 'Sugars, total': 0.0, 'Galactose': 0.0, 'Fiber, total dietary': 0.0, 'Calcium, Ca': 297.16407, 'Iron, Fe': 0.8354009857732058, 'Magnesium, Mg': 35.8029, 'Phosphorus, P': 422.47422, 'Potassium, K': 358.029, 'Sodium, Na': 466.63113, 'Zinc, Zn': 1.19343, 'Copper, Cu': 0.11934300177834928, 'Fluoride, F': 0.0, 'Manganese, Mn': 0.023868599466495215, 'Selenium, Se': 51.675518089485166, 'Vitamin A, IU': 71.6058, 'Retinol': 21.48174, 'Vitamin A, RAE': 21.48174, 'Carotene, beta': 0.0, 'Carotene, alpha': 0.0, 'Vitamin E (alpha-tocopherol)': 1.9094880284535884, 'Vitamin D': 460.66398, 'Vitamin D2 (ergocalciferol)': 0.0, 'Vitamin D3 (cholecalciferol)': 11.456928455257415, 'Vitamin D (D2 + D3)': 11.456928455257415, 'Cryptoxanthin, beta': 0.0, 'Lycopene': 0.0, 'Lutein + zeaxanthin': 0.0, 'Tocopherol, beta': 0.0, 'Tocopherol, gamma': 0.0, 'Tocopherol, delta': 0.0, 'Tocotrienol, alpha': 0.0, 'Tocotrienol, beta': 0.0, 'Tocotrienol, gamma': 0.0, 'Tocotrienol, delta': 0.0, 'Vitamin C, total ascorbic acid': 0.0, 'Thiamin': 0.023868599466495215, 'Riboflavin': 0.19094879573196172, 'Niacin': 8.35401, 'Pantothenic acid': 0.6683208028453589, 'Vitamin B-6': 0.4535033943092823, 'Folate, total': 23.8686, 'Vitamin B-12': 5.251092113814354, 'Choline, total': 101.44154999999999, 'Menaquinone-4': 0.0, 'Dihydrophylloquinone': 0.0, 'Vitamin K (phylloquinone)': 0.11934300177834928, 'Folic acid': 0.0, 'Folate, food': 23.8686, 'Folate, DFE': 23.8686, 'Betaine': 0.0, 'Tryptophan': 0.2864231935979426, 'Threonine': 1.1218241971546412, 'Isoleucine': 1.1791088109773398, 'Leucine': 2.07895504065156, 'Lysine': 2.3486703048741817, 'Methionine': 0.7566346239835023, 'Cystine': 0.274488904979378, 'Phenylalanine': 0.998900924795866, 'Tyrosine': 0.864043292684555, 'Valine': 1.3175466869938373, 'Arginine': 1.5299771951258183, 'Histidine': 0.7530543089443446, 'Alanine': 1.546685284552574, 'Aspartic acid': 2.619578770329952, 'Glutamic acid': 3.817782428870201, 'Glycine': 1.2280395223546028, 'Proline': 0.9046199593484402, 'Serine': 1.0430578353649378, 'Hydroxyproline': 0.0, 'Vitamin E, added': 0.0, 'Vitamin B-12, added': 0.0, 'Cholesterol': 46.54377, 'Fatty acids, total trans': 0.0, 'Fatty acids, total saturated': 1.7734369105732442, '4:0': 0.0, '6:0': 0.0, '8:0': 0.0, '10:0': 0.0, '12:0': 0.0, '14:0': 0.5752332520329952, '16:0': 0.9738388617897034, '18:0': 0.2243648323175311, '20:0': 0.0, '18:1 undifferentiated': 1.383185416663885, '18:2 undifferentiated': 0.06802551003556699, '18:3 undifferentiated': 0.05847806847061962, '20:4 undifferentiated': 0.08712038871958852, '22:6 n-3 (DHA)': 0.8377878861773014, '22:0': 0.0, '14:1': 0.0, '16:1 undifferentiated': 0.28284291412577034, '18:4': 0.08712038871958852, '20:1': 0.3317735365855694, '20:5 n-3 (EPA)': 0.5644923780494928, '22:1 undifferentiated': 0.2923903556907177, '22:5 n-3 (DPA)': 0.10740870426803827, 'Phytosterols': 0.0, 'Stigmasterol': 0.0, 'Campesterol': 0.0, 'Beta-sitosterol': 0.0, 'Fatty acids, total monounsaturated': 2.2901922052824495, 'Fatty acids, total polyunsaturated': 1.8104332621979713, '15:0': 0.0, '17:0': 0.0, '24:0': 0.0, '16:1 t': 0.0, '18:1 t': 0.0, '22:1 t': 0.0, '18:2 t not further defined': 0.0, '18:2 i': 0.0, '18:2 t,t': 0.0, '18:2 CLAs': 0.0, '24:1 c': 0.0, '20:2 n-6 c,c': 0.0, '16:1 c': 0.0, '18:1 c': 0.0, '18:2 n-6 c,c': 0.0, '22:1 c': 0.0, '18:3 n-6 c,c,c': 0.0, '17:1': 0.0, '20:3 undifferentiated': 0.0, 'Fatty acids, total trans-monoenoic': 0.0, 'Fatty acids, total trans-polyenoic': 0.0, '13:0': 0.0, '15:1': 0.0, '18:3 n-3 c,c,c (ALA)': 0.0, '20:3 n-3': 0.0, '20:3 n-6': 0.0, '20:4 n-6': 0.0, '18:3i': 0.0, '21:5': 0.0, '22:4': 0.0, '18:1-11 t (18:1t n-7)': 0.0}, 'Peanut butter, smooth style, with salt': {'Protein': 35.15309815093994, 'Total lipid (fat)': 81.29055456604003, 'Carbohydrate, by difference': 35.31137475471496, 'Ash': 4.5741765660381315, 'Energy': 946.4904799999999, 'Starch': 5.6346255094337465, 'Sucrose': 16.22329, 'Glucose (dextrose)': 0.2057587924528122, 'Fructose': 0.18993119575470685, 'Lactose': 0.0, 'Maltose': 0.0, 'Alcohol, ethyl': 0.0, 'Water': 1.9467948301887512, 'Adjusted Protein': 0.0, 'Caffeine': 0.0, 'Theobromine': 0.0, 'Sugars, total': 16.603152037734986, 'Galactose': 0.0, 'Fiber, total dietary': 7.9138, 'Calcium, Ca': 77.55524, 'Iron, Fe': 2.7540024150943756, 'Magnesium, Mg': 265.90368, 'Phosphorus, P': 530.2246, 'Potassium, K': 883.18008, 'Sodium, Na': 674.25576, 'Zinc, Zn': 3.9727275849056243, 'Copper, Cu': 0.6679247056603431, 'Fluoride, F': 0.0, 'Manganese, Mn': 2.6352953396224974, 'Selenium, Se': 6.4893158490562435, 'Vitamin A, IU': 0.0, 'Retinol': 0.0, 'Vitamin A, RAE': 0.0, 'Carotene, beta': 0.0, 'Carotene, alpha': 0.0, 'Vitamin E (alpha-tocopherol)': 14.403116603775024, 'Vitamin D': 0.0, 'Vitamin D2 (ergocalciferol)': 0.0, 'Vitamin D3 (cholecalciferol)': 0.0, 'Vitamin D (D2 + D3)': 0.0, 'Cryptoxanthin, beta': 0.0, 'Lycopene': 0.0, 'Lutein + zeaxanthin': 0.0, 'Tocopherol, beta': 0.8230351698112488, 'Tocopherol, gamma': 12.060631018867491, 'Tocopherol, delta': 1.1712424150943757, 'Tocotrienol, alpha': 0.0, 'Tocotrienol, beta': 0.0, 'Tocotrienol, gamma': 0.0, 'Tocotrienol, delta': 0.0, 'Vitamin C, total ascorbic acid': 0.0, 'Thiamin': 0.23741400943398475, 'Riboflavin': 0.3038899226415157, 'Niacin': 20.75314985660553, 'Pantothenic acid': 1.7995980641508103, 'Vitamin B-6': 0.6979971830189228, 'Folate, total': 137.70012, 'Vitamin B-12': 0.0, 'Choline, total': 99.71388, 'Menaquinone-4': 0.0, 'Dihydrophylloquinone': 0.0, 'Vitamin K (phylloquinone)': 0.4748280188679695, 'Folic acid': 0.0, 'Folate, food': 137.70012, 'Folate, DFE': 137.70012, 'Betaine': 1.2662080188679694, 'Tryptophan': 0.36561756981134413, 'Threonine': 0.8309489622640609, 'Isoleucine': 0.9749801547169685, 'Leucine': 2.4469469660377503, 'Lysine': 1.0778595509433746, 'Methionine': 0.41943137735843655, 'Cystine': 0.3624520433962345, 'Phenylalanine': 1.9024775547170638, 'Tyrosine': 1.3121080339622497, 'Valine': 1.2377183283019066, 'Arginine': 4.381079501886368, 'Histidine': 0.8815972905659676, 'Alanine': 1.449808173584938, 'Aspartic acid': 4.833748883018494, 'Glutamic acid': 8.0594139320755, 'Glycine': 2.2744261773586274, 'Proline': 2.2285260679244994, 'Serine': 2.3440674754714963, 'Hydroxyproline': 0.0, 'Vitamin E, added': 0.0, 'Vitamin B-12, added': 0.0, 'Cholesterol': 0.0, 'Fatty acids, total trans': 0.11712424150943755, 'Fatty acids, total saturated': 16.06026621509552, '4:0': 0.0, '6:0': 0.0, '8:0': 0.0, '10:0': 0.0, '12:0': 0.0, '14:0': 0.03165519929245114, '16:0': 7.503865437736511, '18:0': 3.4519995509433743, '20:0': 1.1380044113206862, '18:1 undifferentiated': 39.27144155471802, '18:2 undifferentiated': 19.410968543395995, '18:3 undifferentiated': 0.044317281367927785, '20:4 undifferentiated': 0.02848967877358198, '22:6 n-3 (DHA)': 0.0, '22:0': 2.695440199999809, '14:1': 0.0, '16:1 undifferentiated': 0.04748279893867671, '18:4': 0.0, '20:1': 0.9164180339622497, '20:5 n-3 (EPA)': 0.0, '22:1 undifferentiated': 0.07280696014150977, '22:5 n-3 (DPA)': 0.0, 'Phytosterols': 0.0, 'Stigmasterol': 0.0, 'Campesterol': 0.0, 'Beta-sitosterol': 0.0, 'Fatty acids, total monounsaturated': 40.352467528305056, 'Fatty acids, total polyunsaturated': 19.49960271697998, '15:0': 0.009496560082547366, '17:0': 0.07280696014150977, '24:0': 1.1569975698113442, '16:1 t': 0.0, '18:1 t': 0.06805868231132627, '22:1 t': 0.001582760075177066, '18:2 t not further defined': 0.04590003867924213, '18:2 i': 0.0, '18:2 t,t': 0.0, '18:2 CLAs': 0.01741035990566015, '24:1 c': 0.0, '20:2 n-6 c,c': 0.012662080601416529, '16:1 c': 0.04748279893867671, '18:1 c': 39.20179912452698, '18:2 n-6 c,c': 19.33341364151001, '22:1 c': 0.0696414396226406, '18:3 n-6 c,c,c': 0.001582760075177066, '17:1': 0.04590003867924213, '20:3 undifferentiated': 0.01582759964622557, 'Fatty acids, total trans-monoenoic': 0.07122420283019543, 'Fatty acids, total trans-polyenoic': 0.04590003867924213, '13:0': 0.0, '15:1': 0.0, '18:3 n-3 c,c,c (ALA)': 0.042734521108493205, '20:3 n-3': 0.01582759964622557, '20:3 n-6': 0.0, '20:4 n-6': 0.0, '18:3i': 0.0, '21:5': 0.0, '22:4': 0.0, '18:1-11 t (18:1t n-7)': 0.0}, 'Cheese, parmesan, hard': {'Protein': 48.369035000000004, 'Total lipid (fat)': 34.94747329677582, 'Carbohydrate, by difference': 4.356595638709068, 'Ash': 8.17199914838791, 'Energy': 530.36816, 'Starch': 0.0, 'Sucrose': 0.0, 'Glucose (dextrose)': 0.0, 'Fructose': 0.0, 'Lactose': 0.0, 'Maltose': 0.0, 'Alcohol, ethyl': 0.0, 'Water': 39.452896593551635, 'Adjusted Protein': 0.0, 'Caffeine': 0.0, 'Theobromine': 0.0, 'Sugars, total': 1.0823840161287785, 'Galactose': 0.0, 'Fiber, total dietary': 0.0, 'Calcium, Ca': 1601.92832, 'Iron, Fe': 1.1094435903227329, 'Magnesium, Mg': 59.53112, 'Phosphorus, P': 938.96812, 'Potassium, K': 124.47416000000001, 'Sodium, Na': 1861.7004800000002, 'Zinc, Zn': 3.720695, 'Copper, Cu': 0.043295362056419255, 'Fluoride, F': 0.0, 'Manganese, Mn': 0.02705959939517081, 'Selenium, Se': 30.442050000000002, 'Vitamin A, IU': 1056.67738, 'Retinol': 271.94898, 'Vitamin A, RAE': 280.06686, 'Carotene, beta': 89.29668000000001, 'Carotene, alpha': 0.0, 'Vitamin E (alpha-tocopherol)': 0.2976555983871222, 'Vitamin D': 25.70662, 'Vitamin D2 (ergocalciferol)': 0.0, 'Vitamin D3 (cholecalciferol)': 0.67649, 'Vitamin D (D2 + D3)': 0.67649, 'Cryptoxanthin, beta': 0.0, 'Lycopene': 0.0, 'Lutein + zeaxanthin': 0.0, 'Tocopherol, beta': 0.0, 'Tocopherol, gamma': 0.0, 'Tocopherol, delta': 0.0, 'Tocotrienol, alpha': 0.0, 'Tocotrienol, beta': 0.0, 'Tocotrienol, gamma': 0.0, 'Tocotrienol, delta': 0.0, 'Vitamin C, total ascorbic acid': 0.0, 'Thiamin': 0.05276622108869255, 'Riboflavin': 0.4491893429034949, 'Niacin': 0.3666575770968199, 'Pantothenic acid': 0.6128999522578716, 'Vitamin B-6': 0.12312117750003934, 'Folate, total': 9.47086, 'Vitamin B-12': 1.6235760645151138, 'Choline, total': 20.83589148387909, 'Menaquinone-4': 0.0, 'Dihydrophylloquinone': 0.0, 'Vitamin K (phylloquinone)': 2.300066064515114, 'Folic acid': 0.0, 'Folate, food': 9.47086, 'Folate, DFE': 9.47086, 'Betaine': 0.0, 'Tryptophan': 0.6521363509678841, 'Threonine': 1.7818747025799753, 'Isoleucine': 2.5625441922569276, 'Leucine': 4.670486828389168, 'Lysine': 4.472951872258187, 'Methionine': 1.2961548458063603, 'Cystine': 0.3179502991935611, 'Phenylalanine': 2.600427628386021, 'Tyrosine': 2.6991951064515116, 'Valine': 3.320212914838791, 'Arginine': 1.7818747025799753, 'Histidine': 1.8725242438721659, 'Alanine': 1.4179230103230478, 'Aspartic acid': 3.025263362579346, 'Glutamic acid': 11.106612324523926, 'Glycine': 0.84155353161335, 'Proline': 5.655456167745591, 'Serine': 2.797962745804787, 'Hydroxyproline': 0.0, 'Vitamin E, added': 0.0, 'Vitamin B-12, added': 0.0, 'Cholesterol': 92.00264, 'Fatty acids, total trans': 0.0, 'Fatty acids, total saturated': 22.202401593551638, '4:0': 1.7575210535478594, '6:0': 0.6589012445163727, '8:0': 0.35177478709697724, '10:0': 0.8767310425806046, '12:0': 1.1811515748381616, '14:0': 3.938524798064232, '16:0': 9.424858788385391, '18:0': 3.1132071399974826, '20:0': 0.0, '18:1 undifferentiated': 9.005435065803528, '18:2 undifferentiated': 0.3680105799996853, '18:3 undifferentiated': 0.4018350477421284, '20:4 undifferentiated': 0.0, '22:6 n-3 (DHA)': 0.0, '22:0': 0.0, '14:1': 0.0, '16:1 undifferentiated': 0.5330741116130352, '18:4': 0.0, '20:1': 0.0, '20:5 n-3 (EPA)': 0.0, '22:1 undifferentiated': 0.0, '22:5 n-3 (DPA)': 0.0, 'Phytosterols': 0.0, 'Stigmasterol': 0.0, 'Campesterol': 0.0, 'Beta-sitosterol': 0.0, 'Fatty acids, total monounsaturated': 10.167644519357681, 'Fatty acids, total polyunsaturated': 0.7698456277418138, '15:0': 0.0, '17:0': 0.0, '24:0': 0.0, '16:1 t': 0.0, '18:1 t': 0.0, '22:1 t': 0.0, '18:2 t not further defined': 0.0, '18:2 i': 0.0, '18:2 t,t': 0.0, '18:2 CLAs': 0.0, '24:1 c': 0.0, '20:2 n-6 c,c': 0.0, '16:1 c': 0.0, '18:1 c': 0.0, '18:2 n-6 c,c': 0.0, '22:1 c': 0.0, '18:3 n-6 c,c,c': 0.0, '17:1': 0.0, '20:3 undifferentiated': 0.0, 'Fatty acids, total trans-monoenoic': 0.0, 'Fatty acids, total trans-polyenoic': 0.0, '13:0': 0.0, '15:1': 0.0, '18:3 n-3 c,c,c (ALA)': 0.0, '20:3 n-3': 0.0, '20:3 n-6': 0.0, '20:4 n-6': 0.0, '18:3i': 0.0, '21:5': 0.0, '22:4': 0.0, '18:1-11 t (18:1t n-7)': 0.0}, 'Fish, salmon, Atlantic, farmed, cooked, dry heat': {'Protein': 24.01916441459656, 'Total lipid (fat)': 13.422474414596557, 'Carbohydrate, by difference': 0.0, 'Ash': 1.2498659740877152, 'Energy': 223.88904, 'Starch': 0.0, 'Sucrose': 0.0, 'Glucose (dextrose)': 0.0, 'Fructose': 0.0, 'Lactose': 0.0, 'Maltose': 0.0, 'Alcohol, ethyl': 0.0, 'Water': 70.37289, 'Adjusted Protein': 0.0, 'Caffeine': 0.0, 'Theobromine': 0.0, 'Sugars, total': 0.0, 'Galactose': 0.0, 'Fiber, total dietary': 0.0, 'Calcium, Ca': 16.3026, 'Iron, Fe': 0.36952560388684275, 'Magnesium, Mg': 32.6052, 'Phosphorus, P': 273.88368, 'Potassium, K': 417.34656, 'Sodium, Na': 66.29724, 'Zinc, Zn': 0.4673412077736855, 'Copper, Cu': 0.05325515860721469, 'Fluoride, F': 0.0, 'Manganese, Mn': 0.01738944082595408, 'Selenium, Se': 44.99517765838623, 'Vitamin A, IU': 54.342, 'Retinol': 0.0, 'Vitamin A, RAE': 0.0, 'Carotene, beta': 0.0, 'Carotene, alpha': 0.0, 'Vitamin E (alpha-tocopherol)': 0.0, 'Vitamin D': 0.0, 'Vitamin D2 (ergocalciferol)': 0.0, 'Vitamin D3 (cholecalciferol)': 0.0, 'Vitamin D (D2 + D3)': 0.0, 'Cryptoxanthin, beta': 0.0, 'Lycopene': 0.0, 'Lutein + zeaxanthin': 0.0, 'Tocopherol, beta': 0.0, 'Tocopherol, gamma': 0.0, 'Tocopherol, delta': 0.0, 'Tocotrienol, alpha': 0.0, 'Tocotrienol, beta': 0.0, 'Tocotrienol, gamma': 0.0, 'Tocotrienol, delta': 0.0, 'Vitamin C, total ascorbic acid': 4.02130805182457, 'Thiamin': 0.36952560388684275, 'Riboflavin': 0.1467234058302641, 'Niacin': 8.743627882919311, 'Pantothenic acid': 1.603089025912285, 'Vitamin B-6': 0.7031854960656166, 'Folate, total': 36.95256, 'Vitamin B-12': 3.0431519481754306, 'Choline, total': 0.0, 'Menaquinone-4': 0.0, 'Dihydrophylloquinone': 0.0, 'Vitamin K (phylloquinone)': 0.0, 'Folic acid': 0.0, 'Folate, food': 36.95256, 'Folate, DFE': 36.95256, 'Betaine': 0.0, 'Tryptophan': 0.2695363155949116, 'Threonine': 1.0531479403066635, 'Isoleucine': 1.1064031272554398, 'Leucine': 1.9519646441459657, 'Lysine': 2.206285168905258, 'Methionine': 0.710793342897892, 'Cystine': 0.25758108375728134, 'Phenylalanine': 0.9379428935694695, 'Tyrosine': 0.8107826311898232, 'Valine': 1.237910823225975, 'Arginine': 1.436802509021759, 'Histidine': 0.7075328648757935, 'Alanine': 1.453105093474388, 'Aspartic acid': 2.4595189324378968, 'Glutamic acid': 3.5854851869487763, 'Glycine': 1.1531372285985948, 'Proline': 0.8488220596933365, 'Serine': 0.9803296908831597, 'Hydroxyproline': 0.0, 'Vitamin E, added': 0.0, 'Vitamin B-12, added': 0.0, 'Cholesterol': 68.47092, 'Fatty acids, total trans': 0.0, 'Fatty acids, total saturated': 2.7214473040294647, '4:0': 0.0, '6:0': 0.0, '8:0': 0.0, '10:0': 0.0, '12:0': 0.0, '14:0': 0.6205856182336807, '16:0': 1.6226521531677247, '18:0': 0.3423545974087715, '20:0': 0.0, '18:1 undifferentiated': 2.223674644145966, '18:2 undifferentiated': 0.7238354493284226, '18:3 undifferentiated': 0.1228129178622365, '20:4 undifferentiated': 1.3835473220729828, '22:6 n-3 (DHA)': 1.5835258986568452, '22:0': 0.0, '14:1': 0.0, '16:1 undifferentiated': 0.8336063012480736, '18:4': 0.19997856038868428, '20:1': 1.4867971531677246, '20:5 n-3 (EPA)': 0.7499195974087716, '22:1 undifferentiated': 0.0, '22:5 n-3 (DPA)': 0.0, 'Phytosterols': 0.0, 'Stigmasterol': 0.0, 'Campesterol': 0.0, 'Beta-sitosterol': 0.0, 'Fatty acids, total monounsaturated': 4.816875054130555, 'Fatty acids, total polyunsaturated': 4.810353968524933, '15:0': 0.0, '17:0': 0.0, '24:0': 0.0, '16:1 t': 0.0, '18:1 t': 0.0, '22:1 t': 0.0, '18:2 t not further defined': 0.0, '18:2 i': 0.0, '18:2 t,t': 0.0, '18:2 CLAs': 0.0, '24:1 c': 0.0, '20:2 n-6 c,c': 0.0, '16:1 c': 0.0, '18:1 c': 0.0, '18:2 n-6 c,c': 0.0, '22:1 c': 0.0, '18:3 n-6 c,c,c': 0.0, '17:1': 0.0, '20:3 undifferentiated': 0.0, 'Fatty acids, total trans-monoenoic': 0.0, 'Fatty acids, total trans-polyenoic': 0.0, '13:0': 0.0, '15:1': 0.0, '18:3 n-3 c,c,c (ALA)': 0.0, '20:3 n-3': 0.0, '20:3 n-6': 0.0, '20:4 n-6': 0.0, '18:3i': 0.0, '21:5': 0.0, '22:4': 0.0, '18:1-11 t (18:1t n-7)': 0.0}, 'Oil, wheat germ': {'Protein': 0.0, 'Total lipid (fat)': 6.059, 'Carbohydrate, by difference': 0.0, 'Ash': 0.0, 'Energy': 53.56156, 'Starch': 0.0, 'Sucrose': 0.0, 'Glucose (dextrose)': 0.0, 'Fructose': 0.0, 'Lactose': 0.0, 'Maltose': 0.0, 'Alcohol, ethyl': 0.0, 'Water': 0.0, 'Adjusted Protein': 0.0, 'Caffeine': 0.0, 'Theobromine': 0.0, 'Sugars, total': 0.0, 'Galactose': 0.0, 'Fiber, total dietary': 0.0, 'Calcium, Ca': 0.0, 'Iron, Fe': 0.0, 'Magnesium, Mg': 0.0, 'Phosphorus, P': 0.0, 'Potassium, K': 0.0, 'Sodium, Na': 0.0, 'Zinc, Zn': 0.0, 'Copper, Cu': 0.0, 'Fluoride, F': 0.0, 'Manganese, Mn': 0.0, 'Selenium, Se': 0.0, 'Vitamin A, IU': 0.0, 'Retinol': 0.0, 'Vitamin A, RAE': 0.0, 'Carotene, beta': 0.0, 'Carotene, alpha': 0.0, 'Vitamin E (alpha-tocopherol)': 9.052145630187988, 'Vitamin D': 0.0, 'Vitamin D2 (ergocalciferol)': 0.0, 'Vitamin D3 (cholecalciferol)': 0.0, 'Vitamin D (D2 + D3)': 0.0, 'Cryptoxanthin, beta': 0.0, 'Lycopene': 0.0, 'Lutein + zeaxanthin': 0.0, 'Tocopherol, beta': 0.0, 'Tocopherol, gamma': 0.0, 'Tocopherol, delta': 0.0, 'Tocotrienol, alpha': 0.0, 'Tocotrienol, beta': 0.0, 'Tocotrienol, gamma': 0.0, 'Tocotrienol, delta': 0.0, 'Vitamin C, total ascorbic acid': 0.0, 'Thiamin': 0.0, 'Riboflavin': 0.0, 'Niacin': 0.0, 'Pantothenic acid': 0.0, 'Vitamin B-6': 0.0, 'Folate, total': 0.0, 'Vitamin B-12': 0.0, 'Choline, total': 1.2118, 'Menaquinone-4': 0.0, 'Dihydrophylloquinone': 0.0, 'Vitamin K (phylloquinone)': 1.4965730462265014, 'Folic acid': 0.0, 'Folate, food': 0.0, 'Folate, DFE': 0.0, 'Betaine': 0.0, 'Tryptophan': 0.0, 'Threonine': 0.0, 'Isoleucine': 0.0, 'Leucine': 0.0, 'Lysine': 0.0, 'Methionine': 0.0, 'Cystine': 0.0, 'Phenylalanine': 0.0, 'Tyrosine': 0.0, 'Valine': 0.0, 'Arginine': 0.0, 'Histidine': 0.0, 'Alanine': 0.0, 'Aspartic acid': 0.0, 'Glutamic acid': 0.0, 'Glycine': 0.0, 'Proline': 0.0, 'Serine': 0.0, 'Hydroxyproline': 0.0, 'Vitamin E, added': 0.0, 'Vitamin B-12, added': 0.0, 'Cholesterol': 0.0, 'Fatty acids, total trans': 0.0, 'Fatty acids, total saturated': 1.1390919537734985, '4:0': 0.0, '6:0': 0.0, '8:0': 0.0, '10:0': 0.0, '12:0': 0.0, '14:0': 0.0060590000902861355, '16:0': 1.0057940231132507, '18:0': 0.030295, '20:0': 0.0, '18:1 undifferentiated': 0.8846140231132507, '18:2 undifferentiated': 3.3203319537734983, '18:3 undifferentiated': 0.4180710057783127, '20:4 undifferentiated': 0.0, '22:6 n-3 (DHA)': 0.0, '22:0': 0.0, '14:1': 0.0, '16:1 undifferentiated': 0.030295, '18:4': 0.0, '20:1': 0.0, '20:5 n-3 (EPA)': 0.0, '22:1 undifferentiated': 0.0, '22:5 n-3 (DPA)': 0.0, 'Phytosterols': 33.50627, 'Stigmasterol': 0.0, 'Campesterol': 0.0, 'Beta-sitosterol': 0.0, 'Fatty acids, total monounsaturated': 0.9149090231132507, 'Fatty acids, total polyunsaturated': 3.738403046226501, '15:0': 0.0, '17:0': 0.0, '24:0': 0.0, '16:1 t': 0.0, '18:1 t': 0.0, '22:1 t': 0.0, '18:2 t not further defined': 0.0, '18:2 i': 0.0, '18:2 t,t': 0.0, '18:2 CLAs': 0.0, '24:1 c': 0.0, '20:2 n-6 c,c': 0.0, '16:1 c': 0.0, '18:1 c': 0.0, '18:2 n-6 c,c': 0.0, '22:1 c': 0.0, '18:3 n-6 c,c,c': 0.0, '17:1': 0.0, '20:3 undifferentiated': 0.0, 'Fatty acids, total trans-monoenoic': 0.0, 'Fatty acids, total trans-polyenoic': 0.0, '13:0': 0.0, '15:1': 0.0, '18:3 n-3 c,c,c (ALA)': 0.0, '20:3 n-3': 0.0, '20:3 n-6': 0.0, '20:4 n-6': 0.0, '18:3i': 0.0, '21:5': 0.0, '22:4': 0.0, '18:1-11 t (18:1t n-7)': 0.0}, 'Cauliflower, green, raw': {'Protein': 16.883528772904874, 'Total lipid (fat)': 1.7169690682262182, 'Carbohydrate, by difference': 34.85447157329559, 'Ash': 5.036442372709513, 'Energy': 177.42013, 'Starch': 0.0, 'Sucrose': 0.0, 'Glucose (dextrose)': 0.0, 'Fructose': 0.0, 'Lactose': 0.0, 'Maltose': 0.0, 'Alcohol, ethyl': 0.0, 'Water': 513.8888269397736, 'Adjusted Protein': 0.0, 'Caffeine': 0.0, 'Theobromine': 0.0, 'Sugars, total': 17.341386736257075, 'Galactose': 0.0, 'Fiber, total dietary': 18.314336272904875, 'Calcium, Ca': 188.86659, 'Iron, Fe': 4.177958009161949, 'Magnesium, Mg': 114.4646, 'Phosphorus, P': 354.84026, 'Potassium, K': 1716.969, 'Sodium, Na': 131.63429, 'Zinc, Zn': 3.662867118128538, 'Copper, Cu': 0.23465243648149073, 'Fluoride, F': 0.0, 'Manganese, Mn': 1.4136377752046287, 'Selenium, Se': 3.4339381364524364, 'Vitamin A, IU': 887.10065, 'Retinol': 0.0, 'Vitamin A, RAE': 45.78584, 'Carotene, beta': 532.26039, 'Carotene, alpha': 0.0, 'Vitamin E (alpha-tocopherol)': 0.22892919488303362, 'Vitamin D': 0.0, 'Vitamin D2 (ergocalciferol)': 0.0, 'Vitamin D3 (cholecalciferol)': 0.0, 'Vitamin D (D2 + D3)': 0.0, 'Cryptoxanthin, beta': 0.0, 'Lycopene': 0.0, 'Lutein + zeaxanthin': 240.37566, 'Tocopherol, beta': 0.0, 'Tocopherol, gamma': 0.0, 'Tocopherol, delta': 0.0, 'Tocotrienol, alpha': 0.0, 'Tocotrienol, beta': 0.0, 'Tocotrienol, gamma': 0.0, 'Tocotrienol, delta': 0.0, 'Vitamin C, total ascorbic acid': 504.21655426704405, 'Thiamin': 0.45785838976606724, 'Riboflavin': 0.5837694490838051, 'Niacin': 4.2008509755557775, 'Pantothenic acid': 3.983367965379953, 'Vitamin B-6': 1.2705570763742924, 'Folate, total': 326.22411, 'Vitamin B-12': 0.0, 'Choline, total': 326.7964242670441, 'Menaquinone-4': 0.0, 'Dihydrophylloquinone': 0.0, 'Vitamin K (phylloquinone)': 115.60925036647797, 'Folic acid': 0.0, 'Folate, food': 326.22411, 'Folate, DFE': 326.22411, 'Betaine': 0.0, 'Tryptophan': 0.22320597460526972, 'Threonine': 0.6123856144347042, 'Isoleucine': 0.6410017797856032, 'Leucine': 0.9843955934308469, 'Lysine': 0.9042703816179931, 'Methionine': 0.24037565675925462, 'Cystine': 0.19458983057506382, 'Phenylalanine': 0.60093913123779, 'Tyrosine': 0.36628673739768564, 'Valine': 0.8470380509161949, 'Arginine': 0.8126986866082251, 'Histidine': 0.3376705720467866, 'Alanine': 0.8928238984210789, 'Aspartic acid': 1.9745143431773782, 'Glutamic acid': 2.2492294282066823, 'Glycine': 0.5437068431773782, 'Proline': 0.7268502331969142, 'Serine': 0.8813774152241647, 'Hydroxyproline': 0.0, 'Vitamin E, added': 0.0, 'Vitamin B-12, added': 0.0, 'Cholesterol': 0.0, 'Fatty acids, total trans': 0.0, 'Fatty acids, total saturated': 0.26899180078946056, '4:0': 0.0, '6:0': 0.0, '8:0': 0.0, '10:0': 0.0, '12:0': 0.0, '14:0': 0.0, '16:0': 0.21748273300681265, '18:0': 0.022892921087355352, '20:0': 0.0, '18:1 undifferentiated': 0.13163429025584833, '18:2 undifferentiated': 0.16597366522416473, '18:3 undifferentiated': 0.5952159322807193, '20:4 undifferentiated': 0.0, '22:6 n-3 (DHA)': 0.0, '22:0': 0.0, '14:1': 0.0, '16:1 undifferentiated': 0.022892921087355352, '18:4': 0.0, '20:1': 0.005723230271838838, '20:5 n-3 (EPA)': 0.0, '22:1 undifferentiated': 0.005723230271838838, '22:5 n-3 (DPA)': 0.0, 'Phytosterols': 0.0, 'Stigmasterol': 0.0, 'Campesterol': 0.0, 'Beta-sitosterol': 0.0, 'Fatty acids, total monounsaturated': 0.1602504449464008, 'Fatty acids, total polyunsaturated': 0.761189597504884, '15:0': 0.0, '17:0': 0.0, '24:0': 0.0, '16:1 t': 0.0, '18:1 t': 0.0, '22:1 t': 0.0, '18:2 t not further defined': 0.0, '18:2 i': 0.0, '18:2 t,t': 0.0, '18:2 CLAs': 0.0, '24:1 c': 0.0, '20:2 n-6 c,c': 0.0, '16:1 c': 0.0, '18:1 c': 0.0, '18:2 n-6 c,c': 0.0, '22:1 c': 0.0, '18:3 n-6 c,c,c': 0.0, '17:1': 0.0, '20:3 undifferentiated': 0.0, 'Fatty acids, total trans-monoenoic': 0.0, 'Fatty acids, total trans-polyenoic': 0.0, '13:0': 0.0, '15:1': 0.0, '18:3 n-3 c,c,c (ALA)': 0.0, '20:3 n-3': 0.0, '20:3 n-6': 0.0, '20:4 n-6': 0.0, '18:3i': 0.0, '21:5': 0.0, '22:4': 0.0, '18:1-11 t (18:1t n-7)': 0.0}, 'Total': {'Protein': 150.0000316026473, 'Total lipid (fat)': 144.00033634563863, 'Carbohydrate, by difference': 74.52244196671961, 'Ash': 21.980256195367573, 'Energy': 2100.003, 'Starch': 5.6346255094337465, 'Sucrose': 16.22329, 'Glucose (dextrose)': 0.2057587924528122, 'Fructose': 0.18993119575470685, 'Lactose': 0.0, 'Maltose': 0.0, 'Alcohol, ethyl': 0.0, 'Water': 710.1204454572487, 'Adjusted Protein': 0.0, 'Caffeine': 0.0, 'Theobromine': 0.0, 'Sugars, total': 35.026922790120835, 'Galactose': 0.0, 'Fiber, total dietary': 26.228136272904877, 'Calcium, Ca': 2181.81682, 'Iron, Fe': 9.246330604239105, 'Magnesium, Mg': 508.30750000000006, 'Phosphorus, P': 2520.39088, 'Potassium, K': 3499.9988000000003, 'Sodium, Na': 3200.5189, 'Zinc, Zn': 13.01706091080785, 'Copper, Cu': 1.1184706645838172, 'Fluoride, F': 0.0, 'Manganese, Mn': 4.117250754514746, 'Selenium, Se': 137.0359997333801, 'Vitamin A, IU': 2069.7258300000003, 'Retinol': 293.43072, 'Vitamin A, RAE': 347.33444000000003, 'Carotene, beta': 621.5570700000001, 'Carotene, alpha': 0.0, 'Vitamin E (alpha-tocopherol)': 25.891335055686756, 'Vitamin D': 486.37059999999997, 'Vitamin D2 (ergocalciferol)': 0.0, 'Vitamin D3 (cholecalciferol)': 12.133418455257415, 'Vitamin D (D2 + D3)': 12.133418455257415, 'Cryptoxanthin, beta': 0.0, 'Lycopene': 0.0, 'Lutein + zeaxanthin': 240.37566, 'Tocopherol, beta': 0.8230351698112488, 'Tocopherol, gamma': 12.060631018867491, 'Tocopherol, delta': 1.1712424150943757, 'Tocotrienol, alpha': 0.0, 'Tocotrienol, beta': 0.0, 'Tocotrienol, gamma': 0.0, 'Tocotrienol, delta': 0.0, 'Vitamin C, total ascorbic acid': 508.2378623188686, 'Thiamin': 1.1414328236420825, 'Riboflavin': 1.6745209161910415, 'Niacin': 42.41829629217743, 'Pantothenic acid': 8.667275810546279, 'Vitamin B-6': 3.2483643272681535, 'Folate, total': 534.21625, 'Vitamin B-12': 9.9178201265049, 'Choline, total': 549.9995457509232, 'Menaquinone-4': 0.0, 'Dihydrophylloquinone': 0.0, 'Vitamin K (phylloquinone)': 120.0000604978659, 'Folic acid': 0.0, 'Folate, food': 534.21625, 'Folate, DFE': 534.21625, 'Betaine': 1.2662080188679694, 'Tryptophan': 1.7969194045773522, 'Threonine': 5.400181416740045, 'Isoleucine': 6.4640380649922795, 'Leucine': 12.132749072655292, 'Lysine': 11.010037278598995, 'Methionine': 3.423389846805446, 'Cystine': 1.4070621619015187, 'Phenylalanine': 7.04068813270621, 'Tyrosine': 6.052415801685826, 'Valine': 7.960426804276705, 'Arginine': 9.942432595222147, 'Histidine': 4.5523792803050585, 'Alanine': 6.760345460356027, 'Aspartic acid': 14.912624291543064, 'Glutamic acid': 28.818523300625085, 'Glycine': 6.040863303102554, 'Proline': 10.364274487908782, 'Serine': 8.046795162748545, 'Hydroxyproline': 0.0, 'Vitamin E, added': 0.0, 'Vitamin B-12, added': 0.0, 'Cholesterol': 207.01733000000002, 'Fatty acids, total trans': 0.11712424150943755, 'Fatty acids, total saturated': 44.16563577781283, '4:0': 1.7575210535478594, '6:0': 0.6589012445163727, '8:0': 0.35177478709697724, '10:0': 0.8767310425806046, '12:0': 1.1811515748381616, '14:0': 5.1720578677136455, '16:0': 20.74849199719939, '18:0': 7.185114041754515, '20:0': 1.1380044113206862, '18:1 undifferentiated': 52.89998499470049, '18:2 undifferentiated': 24.05714570175733, '18:3 undifferentiated': 1.6407302535019443, '20:4 undifferentiated': 1.4991573895661534, '22:6 n-3 (DHA)': 2.4213137848341466, '22:0': 2.695440199999809, '14:1': 0.0, '16:1 undifferentiated': 1.7501940470129111, '18:4': 0.2870989491082728, '20:1': 2.7407119539873825, '20:5 n-3 (EPA)': 1.3144119754582644, '22:1 undifferentiated': 0.37092054610406633, '22:5 n-3 (DPA)': 0.10740870426803827, 'Phytosterols': 33.50627, 'Stigmasterol': 0.0, 'Campesterol': 0.0, 'Beta-sitosterol': 0.0, 'Fatty acids, total monounsaturated': 58.702338775135395, 'Fatty acids, total polyunsaturated': 31.38982821917608, '15:0': 0.009496560082547366, '17:0': 0.07280696014150977, '24:0': 1.1569975698113442, '16:1 t': 0.0, '18:1 t': 0.06805868231132627, '22:1 t': 0.001582760075177066, '18:2 t not further defined': 0.04590003867924213, '18:2 i': 0.0, '18:2 t,t': 0.0, '18:2 CLAs': 0.01741035990566015, '24:1 c': 0.0, '20:2 n-6 c,c': 0.012662080601416529, '16:1 c': 0.04748279893867671, '18:1 c': 39.20179912452698, '18:2 n-6 c,c': 19.33341364151001, '22:1 c': 0.0696414396226406, '18:3 n-6 c,c,c': 0.001582760075177066, '17:1': 0.04590003867924213, '20:3 undifferentiated': 0.01582759964622557, 'Fatty acids, total trans-monoenoic': 0.07122420283019543, 'Fatty acids, total trans-polyenoic': 0.04590003867924213, '13:0': 0.0, '15:1': 0.0, '18:3 n-3 c,c,c (ALA)': 0.042734521108493205, '20:3 n-3': 0.01582759964622557, '20:3 n-6': 0.0, '20:4 n-6': 0.0, '18:3i': 0.0, '21:5': 0.0, '22:4': 0.0, '18:1-11 t (18:1t n-7)': 0.0}}, 'halloffame': [{'candidate': [1727, 1863, 32, 1788, 200, 1422], 'score': 0.549441680786265}, {'candidate': [1727, 1863, 1461, 1788, 200, 1422], 'score': 1.409817892680334}, {'candidate': [1727, 1863, 22, 1788, 200, 1422], 'score': 1.4277935366781556}, {'candidate': [1727, 1863, 734, 1788, 200, 1422], 'score': 1.4528169640726931}, {'candidate': [1727, 1863, 1842, 1788, 200, 1422], 'score': 1.4528169640727042}, {'candidate': [1727, 1863, 376, 1788, 200, 1422], 'score': 1.4528169640727044}, {'candidate': [1727, 1863, 363, 1788, 200, 1422], 'score': 1.4528169640727053}, {'candidate': [1727, 1863, 2459, 1788, 200, 1422], 'score': 1.4528169640727073}, {'candidate': [1727, 1863, 681, 1788, 200, 1422], 'score': 1.4528169640727073}, {'candidate': [1727, 1863, 634, 1788, 200, 1422], 'score': 1.4528169640727073}, {'candidate': [1727, 1863, 370, 1788, 200, 1422], 'score': 1.4528169640727073}, {'candidate': [1727, 1863, 2120, 1788, 200, 1422], 'score': 1.4528169640727073}, {'candidate': [1727, 1863, 1842, 1788, 294, 1422], 'score': 1.484678623680185}, {'candidate': [1727, 1863, 1842, 1788, 246, 1422], 'score': 1.4991937029456552}, {'candidate': [1727, 1863, 44, 1797, 200, 1422], 'score': 1.5198639903509612}, {'candidate': [1727, 1863, 1842, 1014, 200, 1422], 'score': 1.7425254317594878}, {'candidate': [1727, 1863, 1733, 1797, 200, 1422], 'score': 1.8238384905730398}, {'candidate': [1099, 1863, 1733, 1797, 200, 1422], 'score': 1.8238384905730423}, {'candidate': [123, 1863, 1733, 1797, 200, 1422], 'score': 1.8238384905730423}, {'candidate': [1727, 1863, 1733, 1788, 200, 1422], 'score': 1.9091081319974523}, {'candidate': [1727, 2487, 2269, 1788, 200, 1422], 'score': 2.0809737924196803}, {'candidate': [1727, 1863, 1842, 2061, 200, 1422], 'score': 2.081440221592235}, {'candidate': [1727, 1863, 1842, 2365, 200, 1422], 'score': 2.178892800757924}, {'candidate': [1727, 1863, 2484, 1797, 200, 1422], 'score': 2.2219123851946314}, {'candidate': [1727, 1863, 2295, 1797, 200, 1422], 'score': 2.221912385194649}, {'candidate': [1727, 1863, 508, 1797, 200, 1422], 'score': 2.221912385194652}, {'candidate': [1727, 1863, 248, 1797, 200, 1422], 'score': 2.221912385194656}, {'candidate': [1727, 1863, 376, 1797, 200, 1422], 'score': 2.2219123851946616}, {'candidate': [1727, 1863, 734, 1797, 200, 1422], 'score': 2.2219123851946634}, {'candidate': [1727, 1863, 661, 1797, 200, 1422], 'score': 2.2219123851946634}, {'candidate': [1727, 1863, 2235, 1797, 200, 1422], 'score': 2.221912385194668}, {'candidate': [1727, 1863, 2249, 1797, 200, 1422], 'score': 2.221912385194668}, {'candidate': [1727, 1863, 653, 1797, 200, 1422], 'score': 2.221912385194668}, {'candidate': [1727, 1863, 1498, 1797, 200, 1422], 'score': 2.221912385194668}, {'candidate': [1727, 1863, 1508, 1797, 200, 1422], 'score': 2.221912385194668}, {'candidate': [1727, 1863, 617, 1797, 200, 1422], 'score': 2.221912385194668}, {'candidate': [1727, 1863, 2433, 1797, 200, 1422], 'score': 2.221912385194668}, {'candidate': [1727, 1863, 189, 1797, 200, 1422], 'score': 2.221912385194668}, {'candidate': [1727, 1863, 2115, 1797, 200, 1422], 'score': 2.221912385194668}, {'candidate': [1727, 1863, 1967, 1797, 200, 1422], 'score': 2.221912385194668}, {'candidate': [1727, 1863, 1528, 1779, 200, 1422], 'score': 2.2367146137671763}, {'candidate': [1727, 1863, 661, 1779, 200, 1422], 'score': 2.2367146137671776}, {'candidate': [1727, 1863, 2318, 1779, 200, 1422], 'score': 2.2367146137671785}, {'candidate': [1727, 1863, 104, 1779, 200, 1422], 'score': 2.2367146137671785}, {'candidate': [1727, 1863, 1935, 1779, 200, 1422], 'score': 2.2367146137671785}, {'candidate': [1727, 1863, 1019, 1779, 200, 1422], 'score': 2.2367146137671785}, {'candidate': [1727, 1863, 1992, 1779, 200, 1422], 'score': 2.2367146137671785}, {'candidate': [1727, 1863, 1967, 1779, 200, 1422], 'score': 2.2367146137671785}, {'candidate': [1727, 1863, 1904, 1779, 200, 1422], 'score': 2.23671461376718}, {'candidate': [1727, 1863, 776, 1779, 200, 1422], 'score': 2.236714613767181}, {'candidate': [1727, 1863, 1680, 1779, 200, 1422], 'score': 2.236714613767192}]}
```

# Environment

Docker container with `main.py` entrypoint. The container should run once, finish its work, then terminate.

## Testing locally

Note that the container expects a `/workspace` directory containing a file called `query.json`. Google cloud build will make this automatically, but if running locally you need to mount it.

```
docker build --tag find_diet:batch .
mkdir /tmp/workspace/
cp query.json /tmp/workspace
docker run -v /tmp/workspace/:/workspace find_diet:batch
```

The container will grind all available CPUs on your machine then output `/tmp/workspace/report_*.html`

## Deploy with Google cloud run

1. Make a new project in GCP. Call it "diet-batch"

2. Set the project and make a bucket

```
PROJECT_ID=diet-batch

gcloud config set project $PROJECT_ID

#make a bucket
gsutil mb gs://dietbatchworkspace

# build gcr.io/diets-batch/diet_api:batch
#  this container contains a query.json file with diet jobs to run
#  the container outputs the results to /workspace/report_*.html

gcloud builds submit --config cloudbuild.yaml

# this runs the above container
#  1. first it clones this repo to get a copy of query.json
#  2. next it runs the container we built above, computing diets
#  3. finally it uploads the diet reports to the gs://dietbatchworkspace/ bucket

gcloud builds submit --config cloudbuild_batch.yaml
```
